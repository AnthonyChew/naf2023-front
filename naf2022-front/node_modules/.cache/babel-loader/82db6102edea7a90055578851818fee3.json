{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\src\\\\AdminInterface\\\\AdminManage.js\";\nimport React, { useState, useEffect } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport adminService from '../services/admin';\nimport orderService from '../services/orders';\nimport workshopService from '../services/workshops';\nimport photoService from '../services/photog';\nimport donationService from '../services/donations';\nimport vendorService from '../services/vendors';\nimport AdminLogin from '../Authentication/AdminLogin';\nimport Logout from '../Authentication/Logout';\nimport { Button, Switch, IconButton, TextField, OutlinedInput, InputLabel, FormControl, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper } from '@material-ui/core';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport DoneIcon from '@material-ui/icons/Done';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport MailIcon from '@material-ui/icons/Mail';\nimport AddIcon from '@material-ui/icons/Add';\nimport FileDownload from 'js-file-download';\nimport { useHistory } from 'react-router-dom';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { LoadingSpinnerComponent } from '../utils/LoadingSpinnerComponent';\nimport { trackPromise } from 'react-promise-tracker';\nimport { usePromiseTracker } from 'react-promise-tracker';\nimport ConfirmationDialog from '../Components/ConfirmationDialog';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport VerifyWorkshops from './VerifyWorkshops';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  paddedItem: {\n    padding: theme.spacing(3)\n  },\n  formSection: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    display: 'block'\n  }\n}));\n\nfunction AdminManage(props) {\n  const classes = useStyles();\n  const history = useHistory();\n  const [orders, setOrders] = useState([]);\n  const [workshops, setWorkshops] = useState([]);\n  const [auth, setAuth] = useState(true);\n  const [checked, setChecked] = useState(false);\n  const [state, setState] = useState({\n    emailAddress: '',\n    points: 0,\n    category: ''\n  });\n  const [selfCollDate, setSelfCollDate] = useState('23febslot1');\n  const [openDelete, setOpenDelete] = useState(false);\n  const [openVerify, setOpenVerify] = useState(false);\n  const [openEmail, setOpenEmail] = useState(false);\n  const [orderToDelete, setDeleteOrder] = useState(null);\n  const [orderToVerify, setVerifyOrder] = useState(null);\n  const [workshopEmail, setEmailWorkshop] = useState(null);\n  const [vendors, setVendors] = useState([]); //donation tracker states\n\n  const [donations, setDonations] = useState([]);\n  const [donationUpdate, setDonationUpdate] = useState({\n    name: '',\n    amount: 0\n  });\n  const categories = [// '#IMADETHISwNAF',\n  // 'Workshop',\n  // 'Virtual Busking Quiz',\n  // 'Art-Verse Quiz',\n  'Workshop', 'Stamp Hunt Submission', 'Sticker Olympia Submission'];\n\n  const handleChange = event => {\n    setChecked(event.target.checked);\n  };\n\n  const handleSelfCollChange = event => {\n    setSelfCollDate(event.target.value);\n  };\n\n  const handleInputChange = prop => event => {\n    setState({ ...state,\n      [prop]: event.target.value\n    });\n  };\n\n  const handleDonationInputChange = prop => event => {\n    setDonationUpdate({ ...donationUpdate,\n      [prop]: event.target.value\n    });\n  };\n\n  const handleLoginClose = () => {\n    setAuth(true);\n  };\n\n  const handleNotAuth = () => {\n    setAuth(false);\n  };\n\n  const {\n    promiseInProgress\n  } = usePromiseTracker();\n  useEffect(() => {\n    // console.log('Fetch orders');\n    async function fetchOrderData() {\n      const res = await orderService.getOrders(checked, false);\n\n      if (res.status === 200) {\n        setOrders(res.data);\n      } else if (res.status === 401) {\n        setAuth(false);\n      } else {\n        alert('Issues with fetching orders');\n      }\n    }\n\n    fetchOrderData();\n  }, [checked, auth]);\n  useEffect(() => {\n    // console.log('Fetch orders');\n    async function fetchVendorData() {\n      const res = await vendorService.getAllVendors();\n\n      if (res.status === 200) {\n        setVendors(res.data);\n      } else if (res.status === 401) {\n        setAuth(false);\n      } else {\n        alert('Issues with fetching vendors');\n      }\n    }\n\n    fetchVendorData();\n  }, [checked, auth]);\n  useEffect(() => {\n    async function fetchWorkshopData() {\n      console.log('Fetch workshops');\n      const res = await adminService.getWorkshops(); //this line not getting workshops.\n\n      if (res.status === 200) {\n        setWorkshops(res.data);\n      } else if (res.status === 401) {\n        setAuth(false);\n      } else {\n        alert('Issues with fetching workshops');\n      }\n    }\n\n    fetchWorkshopData();\n  }, []);\n  useEffect(() => {\n    async function fetchData() {\n      const res = await donationService.getDonations();\n\n      if (res.status === 200) {\n        setDonations(res.data);\n      } //  else {\n      //   alert('Error loading donations :(');\n      // }\n\n    }\n\n    fetchData();\n  }, []);\n\n  const handleConfirmVerify = order_id => {\n    setVerifyOrder(order_id);\n    setOpenVerify(true);\n  };\n\n  const handleConfirmDelete = order_id => {\n    setDeleteOrder(order_id);\n    setOpenDelete(true);\n  };\n\n  const handleConfirmEmail = workshop_id => {\n    setEmailWorkshop(workshop_id);\n    setOpenEmail(true);\n  };\n\n  const handleDialogResult = continueAction => {\n    if (openDelete) {\n      setOpenDelete(false);\n\n      if (continueAction) {\n        deleteOrder();\n      }\n    } else if (openVerify) {\n      setOpenVerify(false);\n\n      if (continueAction) {\n        verifyOrder();\n      }\n    } else if (openEmail) {\n      setOpenEmail(false);\n\n      if (continueAction) {\n        workshopSendReminder();\n      }\n    }\n  };\n\n  const verifyOrder = async () => {\n    if (orderToVerify == null) {\n      alert('No order selected to be verified!');\n    } else {\n      const res = await trackPromise(adminService.verifyOrder(orderToVerify)); // console.log(auth);\n\n      if (res.status === 200) {\n        history.go(0);\n      } else if (res.status === 401) {\n        setAuth(false);\n      } else {\n        alert(res.data.error);\n      }\n    }\n  };\n\n  const deleteOrder = async () => {\n    if (orderToDelete == null) {\n      alert('No order selected to be deleted!');\n    } else {\n      const res = await orderService.deleteOrder(orderToDelete);\n\n      if (res.status === 200) {\n        history.go(0);\n      } else if (res.status === 401) {\n        setAuth(false);\n      } else {\n        alert(`${res.status}, ${JSON.stringify(res.data)}`);\n      }\n    }\n  };\n\n  const downloadOrders = async () => {\n    console.log(workshops);\n    const res = await orderService.downloadOrdersAdmin(); // console.log(auth);\n\n    if (res.status === 200) {\n      FileDownload(res.data, 'orders.csv');\n    } else if (res.status === 401) {\n      setAuth(false);\n    } else {\n      alert(res.data.error);\n    }\n  };\n\n  const downloadVendorOrders = async (vendor_id, vendor_name) => {\n    const res = await orderService.downloadOrdersVendor(vendor_id); // console.log(auth);\n\n    if (res.status === 200) {\n      FileDownload(res.data, `${vendor_name}.csv`);\n    } else if (res.status === 401) {\n      setAuth(false);\n    } else {\n      alert(res.data.error);\n    }\n  };\n\n  const downloadWorkshops = async () => {\n    const res = await workshopService.downloadWorkshops(); // console.log(auth);\n\n    if (res.status === 200) {\n      FileDownload(res.data, 'workshops.csv');\n    } else if (res.status === 401) {\n      setAuth(false);\n    } else {\n      alert(res.data.error);\n    }\n  };\n\n  const downloadIndivWorkshop = async (workshopId, workshopName) => {\n    const res = await workshopService.downloadIndivWorkshop(workshopId);\n\n    if (res.status === 200) {\n      FileDownload(res.data, `${workshopName}.csv`);\n    } else if (res.status === 401) {\n      setAuth(false);\n    } else {\n      alert(res.data.error);\n    }\n  };\n\n  const downloadPhotos = async () => {\n    const res = await photoService.downloadPhotos();\n\n    if (res.status === 200) {\n      FileDownload(res.data, 'photos.csv');\n    } else if (res.status === 401) {\n      setAuth(false);\n    } else {\n      alert(res.data.error);\n    }\n  };\n\n  const downloadLuckyDraw = async () => {\n    const res = await adminService.downloadLuckyDraw();\n\n    if (res.status === 200) {\n      FileDownload(res.data, 'luckydraw.csv');\n    } else if (res.status === 401) {\n      setAuth(false);\n    } else {\n      alert(res.data);\n    }\n  };\n\n  const downloadVotes = async () => {\n    const res = await adminService.downloadVotes();\n\n    if (res.status === 200) {\n      FileDownload(res.data, 'photovotes.csv');\n    } else if (res.status === 401) {\n      setAuth(false);\n    } else {\n      alert(res.data);\n    }\n  };\n\n  const sendEmails = async event => {\n    event.preventDefault();\n    const res = await trackPromise(adminService.sendEmails(selfCollDate));\n\n    if (res.status === 200) {\n      alert('Successfully sent!');\n    } else {\n      alert(res.data.error);\n    }\n  };\n\n  const workshopSendReminder = async () => {\n    if (workshopEmail == null) {\n      alert('No workshop selected to email!');\n    }\n\n    const res = await trackPromise(adminService.sendWorkshopReminderEmails(workshopEmail));\n\n    if (res.status === 200) {\n      alert('Successfully sent!');\n    } else {\n      alert(`${res.status}`);\n    }\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const newInput = {\n      points: state.points,\n      category: state.category\n    };\n    const res = await adminService.addPoints(newInput, state.emailAddress);\n\n    if (res.status === 200) {\n      alert('Added points successfully');\n    } else {\n      alert('Error while adding points');\n    }\n  };\n\n  const handleDonationSubmit = async event => {\n    event.preventDefault();\n    const newInput = {\n      amount: parseFloat(donationUpdate.amount)\n    };\n    const res = await donationService.updateDonations(donationUpdate.name, newInput);\n\n    if (res.status === 200) {\n      alert('Updated donation tracker successfully');\n    } else {\n      alert('Error while updating donation tracker');\n    }\n  }; // function to bump workshop waitlist\n\n\n  const bumpWorkshopWaitlist = async () => {\n    // TBD: any checks necessary??\n    // TBD: not sure if trackPromise required or not\n    const res = await trackPromise(adminService.bumpWaitlist());\n\n    if (res.status === 200) {\n      alert('Successfully bumped waitlist.');\n    } else {\n      alert(`${res.status}`);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LoadingSpinnerComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }\n  }), !auth && /*#__PURE__*/React.createElement(AdminLogin, {\n    parentCallback: handleLoginClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 17\n    }\n  }), auth ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.paddedItem,\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 11\n    }\n  }, checked === true ? 'Verified Orders' : 'Unverified Orders'), /*#__PURE__*/React.createElement(Logout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    checked: checked,\n    onChange: handleChange,\n    inputProps: {\n      'aria-label': 'secondary checkbox'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 11\n    }\n  }), openDelete && /*#__PURE__*/React.createElement(ConfirmationDialog //callback\n  , {\n    title: \"Delete Order?\",\n    content: 'Are you sure you want to remove this order?',\n    parentCallback: handleDialogResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 13\n    }\n  }), openVerify && /*#__PURE__*/React.createElement(ConfirmationDialog //callback\n  , {\n    title: \"Verify Order?\",\n    content: 'Are you sure you want to verify this order?',\n    parentCallback: handleDialogResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 19\n    }\n  }, \"Order Number\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 19\n    }\n  }, \"Buyer\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 19\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 19\n    }\n  }, \"Contact number\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 19\n    }\n  }, \"Total\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 19\n    }\n  }, \"Date time\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 15\n    }\n  }, orders && orders.map((order, index) => /*#__PURE__*/React.createElement(TableRow, {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 23\n    }\n  }, order.orderNumber), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 23\n    }\n  }, order.name), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 23\n    }\n  }, order.emailAddress), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 23\n    }\n  }, order.contactNumber), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 23\n    }\n  }, Number.isInteger(order.total) ? order.total : order.total.toFixed(2)), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 23\n    }\n  }, order.datetime), !checked && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(IconButton, {\n    edge: \"end\",\n    \"aria-label\": \"download\",\n    disabled: promiseInProgress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(DoneIcon, {\n    onClick: () => handleConfirmVerify(order._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    edge: \"end\",\n    \"aria-label\": \"delete\",\n    disabled: promiseInProgress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    onClick: () => handleConfirmDelete(order._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 29\n    }\n  })))))))), vendors && vendors.map((vendor, index) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    key: index,\n    variant: \"contained\",\n    color: \"default\",\n    className: classes.button,\n    startIcon: /*#__PURE__*/React.createElement(GetAppIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 30\n      }\n    }),\n    onClick: () => downloadVendorOrders(vendor._id, vendor.displayName),\n    disabled: promiseInProgress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 17\n    }\n  }, \"Download \", vendor.displayName, \" orders\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"default\",\n    className: classes.button,\n    startIcon: /*#__PURE__*/React.createElement(GetAppIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 24\n      }\n    }),\n    onClick: downloadOrders,\n    disabled: promiseInProgress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 11\n    }\n  }, \"Download Orders\"), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.paddedItem,\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 11\n    }\n  }, \"Send Reminder Emails\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    autoComplete: \"off\",\n    onSubmit: sendEmails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    color: \"secondary\",\n    className: classes.formSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 15\n    }\n  }, \"Self Collection Date\"), /*#__PURE__*/React.createElement(Select, {\n    value: selfCollDate,\n    onChange: handleSelfCollChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: '23febslot1',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 17\n    }\n  }, \"23 February 12-4pm\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: '09marslot1',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 525,\n      columnNumber: 17\n    }\n  }, \"9th March 2-6pm\"))), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"default\",\n    className: classes.button,\n    startIcon: /*#__PURE__*/React.createElement(MailIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 26\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 13\n    }\n  }, \"Send Email\")), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.paddedItem,\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 11\n    }\n  }, \"Workshops\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"default\",\n    className: classes.button,\n    startIcon: /*#__PURE__*/React.createElement(GetAppIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 24\n      }\n    }),\n    onClick: bumpWorkshopWaitlist,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 11\n    }\n  }, \"Bump Workshop Waitlist\"), openEmail && /*#__PURE__*/React.createElement(ConfirmationDialog //callback\n  , {\n    title: \"Send Email?\",\n    content: 'Are you sure you want to send emails?',\n    parentCallback: handleDialogResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 563,\n      columnNumber: 19\n    }\n  }, \"Workshop\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 564,\n      columnNumber: 19\n    }\n  }, \"Sign Ups\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 15\n    }\n  }, workshops && workshops.map((workshop, index) => /*#__PURE__*/React.createElement(TableRow, {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 23\n    }\n  }, workshop.name), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 23\n    }\n  }, `${workshop.registeredParticipants.length}/${workshop.maxParticipants}`), /*#__PURE__*/React.createElement(IconButton, {\n    edge: \"end\",\n    \"aria-label\": \"download\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(GetAppIcon, {\n    onClick: () => downloadIndivWorkshop(workshop._id, workshop.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    edge: \"end\",\n    \"aria-label\": \"emails\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(MailIcon, {\n    onClick: () => handleConfirmEmail(workshop._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 25\n    }\n  }))))))), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"default\",\n    className: classes.button,\n    startIcon: /*#__PURE__*/React.createElement(GetAppIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 24\n      }\n    }),\n    onClick: downloadWorkshops,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 11\n    }\n  }, \"Download All Workshop Sign Ups\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(VerifyWorkshops, {\n    handleNotAuth: handleNotAuth,\n    workshops: workshops,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.paddedItem,\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 11\n    }\n  }, \"Photos\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"default\",\n    className: classes.button,\n    startIcon: /*#__PURE__*/React.createElement(GetAppIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 24\n      }\n    }),\n    onClick: downloadPhotos,\n    disabled: promiseInProgress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 11\n    }\n  }, \"Download Photos\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"default\",\n    className: classes.button,\n    startIcon: /*#__PURE__*/React.createElement(GetAppIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 24\n      }\n    }),\n    onClick: downloadVotes,\n    disabled: promiseInProgress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 11\n    }\n  }, \"Download Votes Data\"), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.paddedItem,\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 11\n    }\n  }, \"Add Lucky Draw Points\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    autoComplete: \"off\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 632,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    id: \"email-address\",\n    label: \"Email Address\",\n    type: \"text\",\n    variant: \"outlined\",\n    color: \"secondary\",\n    onChange: handleInputChange('emailAddress'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 637,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(FormControl, {\n    required: true,\n    variant: \"outlined\",\n    color: \"secondary\",\n    className: classes.formSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 646,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"points\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 652,\n      columnNumber: 15\n    }\n  }, \"Points\"), /*#__PURE__*/React.createElement(OutlinedInput, {\n    id: \"points\",\n    onChange: handleInputChange('points'),\n    labelWidth: 60,\n    inputProps: {\n      pattern: '[0-9]*'\n    },\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    required: true,\n    variant: \"outlined\",\n    color: \"secondary\",\n    className: classes.formSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 663,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Autocomplete, {\n    id: \"points-category\",\n    options: categories,\n    getOptionLabel: option => option,\n    style: {\n      width: 300\n    },\n    onChange: (event, newInputValue) => {\n      setState({ ...state,\n        category: newInputValue\n      });\n    },\n    renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n      required: true,\n      color: \"secondary\",\n      label: \"Category\",\n      variant: \"outlined\",\n      value: state.category,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 19\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 669,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"default\",\n    className: classes.button,\n    endIcon: /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 694,\n        columnNumber: 24\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 689,\n      columnNumber: 13\n    }\n  }, \"Add Points\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 699,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"default\",\n    className: classes.button,\n    startIcon: /*#__PURE__*/React.createElement(GetAppIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 24\n      }\n    }),\n    onClick: downloadLuckyDraw,\n    disabled: promiseInProgress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 11\n    }\n  }, \"Download Lucky Draw Data\"), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.paddedItem,\n    variant: \"h4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 710,\n      columnNumber: 11\n    }\n  }, \"Update Donation Tracker\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    autoComplete: \"off\",\n    onSubmit: handleDonationSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 713,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    required: true,\n    variant: \"outlined\",\n    color: \"secondary\",\n    className: classes.formSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 718,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Autocomplete, {\n    id: \"select-donation-category\",\n    options: [...donations.map(donation => donation.name)],\n    getOptionLabel: option => option,\n    style: {\n      width: 300\n    },\n    name: \"name\",\n    onChange: (event, newName) => {\n      setDonationUpdate({ ...donationUpdate,\n        name: newName\n      });\n    },\n    renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n      required: true,\n      color: \"secondary\",\n      label: \"Category\",\n      variant: \"outlined\",\n      value: donationUpdate.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 734,\n        columnNumber: 19\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 724,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    style: {\n      paddingBottom: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 745,\n      columnNumber: 13\n    }\n  }, donationUpdate.name !== '' && donationUpdate.name !== null && `Current amount for ${donationUpdate.name}: $\n              ${donations.find(donation => donation.name === donationUpdate.name) ? donations.find(donation => donation.name === donationUpdate.name).amount : 0}`), /*#__PURE__*/React.createElement(FormControl, {\n    required: true,\n    variant: \"outlined\",\n    color: \"secondary\",\n    name: \"amount\",\n    style: {\n      display: 'block',\n      maxWidth: 300,\n      paddingBottom: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 759,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"donation amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 770,\n      columnNumber: 15\n    }\n  }, \"New Donation Amount\"), /*#__PURE__*/React.createElement(OutlinedInput, {\n    id: \"price\",\n    value: donationUpdate.amount,\n    name: \"amount\",\n    onChange: handleDonationInputChange('amount'),\n    startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n      position: \"start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 779,\n        columnNumber: 19\n      }\n    }, \"$\"),\n    fullWidth: true,\n    labelWidth: 170,\n    inputProps: {\n      min: '0',\n      step: '0.01' // pattern: '[0-9]*',\n\n    },\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 773,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 791,\n      columnNumber: 13\n    }\n  }, \"Update Donation Tracker\"))) : null);\n}\n\nexport default AdminManage;","map":{"version":3,"sources":["C:/Users/antho/OneDrive/Desktop/naf2022-front/src/AdminInterface/AdminManage.js"],"names":["React","useState","useEffect","Typography","makeStyles","adminService","orderService","workshopService","photoService","donationService","vendorService","AdminLogin","Logout","Button","Switch","IconButton","TextField","OutlinedInput","InputLabel","FormControl","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Autocomplete","DoneIcon","DeleteIcon","GetAppIcon","MailIcon","AddIcon","FileDownload","useHistory","Select","MenuItem","LoadingSpinnerComponent","trackPromise","usePromiseTracker","ConfirmationDialog","InputAdornment","VerifyWorkshops","useStyles","theme","root","flexGrow","paddedItem","padding","spacing","formSection","marginTop","marginBottom","display","AdminManage","props","classes","history","orders","setOrders","workshops","setWorkshops","auth","setAuth","checked","setChecked","state","setState","emailAddress","points","category","selfCollDate","setSelfCollDate","openDelete","setOpenDelete","openVerify","setOpenVerify","openEmail","setOpenEmail","orderToDelete","setDeleteOrder","orderToVerify","setVerifyOrder","workshopEmail","setEmailWorkshop","vendors","setVendors","donations","setDonations","donationUpdate","setDonationUpdate","name","amount","categories","handleChange","event","target","handleSelfCollChange","value","handleInputChange","prop","handleDonationInputChange","handleLoginClose","handleNotAuth","promiseInProgress","fetchOrderData","res","getOrders","status","data","alert","fetchVendorData","getAllVendors","fetchWorkshopData","console","log","getWorkshops","fetchData","getDonations","handleConfirmVerify","order_id","handleConfirmDelete","handleConfirmEmail","workshop_id","handleDialogResult","continueAction","deleteOrder","verifyOrder","workshopSendReminder","go","error","JSON","stringify","downloadOrders","downloadOrdersAdmin","downloadVendorOrders","vendor_id","vendor_name","downloadOrdersVendor","downloadWorkshops","downloadIndivWorkshop","workshopId","workshopName","downloadPhotos","downloadLuckyDraw","downloadVotes","sendEmails","preventDefault","sendWorkshopReminderEmails","handleSubmit","newInput","addPoints","handleDonationSubmit","parseFloat","updateDonations","bumpWorkshopWaitlist","bumpWaitlist","table","map","order","index","orderNumber","contactNumber","Number","isInteger","total","toFixed","datetime","_id","vendor","button","displayName","form","workshop","registeredParticipants","length","maxParticipants","pattern","option","width","newInputValue","params","donation","newName","paddingBottom","find","maxWidth","min","step"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport adminService from '../services/admin';\nimport orderService from '../services/orders';\nimport workshopService from '../services/workshops';\nimport photoService from '../services/photog';\nimport donationService from '../services/donations';\nimport vendorService from '../services/vendors';\nimport AdminLogin from '../Authentication/AdminLogin';\nimport Logout from '../Authentication/Logout';\n\nimport {\n  Button,\n  Switch,\n  IconButton,\n  TextField,\n  OutlinedInput,\n  InputLabel,\n  FormControl,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n} from '@material-ui/core';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport DoneIcon from '@material-ui/icons/Done';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport MailIcon from '@material-ui/icons/Mail';\nimport AddIcon from '@material-ui/icons/Add';\nimport FileDownload from 'js-file-download';\nimport { useHistory } from 'react-router-dom';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { LoadingSpinnerComponent } from '../utils/LoadingSpinnerComponent';\nimport { trackPromise } from 'react-promise-tracker';\nimport { usePromiseTracker } from 'react-promise-tracker';\nimport ConfirmationDialog from '../Components/ConfirmationDialog';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport VerifyWorkshops from './VerifyWorkshops';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paddedItem: {\n    padding: theme.spacing(3),\n  },\n  formSection: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    display: 'block',\n  },\n}));\n\nfunction AdminManage(props) {\n  const classes = useStyles();\n  const history = useHistory();\n  const [orders, setOrders] = useState([]);\n  const [workshops, setWorkshops] = useState([]);\n  const [auth, setAuth] = useState(true);\n  const [checked, setChecked] = useState(false);\n  const [state, setState] = useState({\n    emailAddress: '',\n    points: 0,\n    category: '',\n  });\n  const [selfCollDate, setSelfCollDate] = useState('23febslot1');\n  const [openDelete, setOpenDelete] = useState(false);\n  const [openVerify, setOpenVerify] = useState(false);\n  const [openEmail, setOpenEmail] = useState(false);\n  const [orderToDelete, setDeleteOrder] = useState(null);\n  const [orderToVerify, setVerifyOrder] = useState(null);\n  const [workshopEmail, setEmailWorkshop] = useState(null);\n  const [vendors, setVendors] = useState([]);\n\n  //donation tracker states\n  const [donations, setDonations] = useState([]);\n  const [donationUpdate, setDonationUpdate] = useState({ name: '', amount: 0 });\n\n  const categories = [\n    // '#IMADETHISwNAF',\n    // 'Workshop',\n    // 'Virtual Busking Quiz',\n    // 'Art-Verse Quiz',\n    'Workshop',\n    'Stamp Hunt Submission',\n    'Sticker Olympia Submission',\n  ];\n\n  const handleChange = (event) => {\n    setChecked(event.target.checked);\n  };\n\n  const handleSelfCollChange = (event) => {\n    setSelfCollDate(event.target.value);\n  };\n\n  const handleInputChange = (prop) => (event) => {\n    setState({ ...state, [prop]: event.target.value });\n  };\n\n  const handleDonationInputChange = (prop) => (event) => {\n    setDonationUpdate({ ...donationUpdate, [prop]: event.target.value });\n  };\n\n  const handleLoginClose = () => {\n    setAuth(true);\n  };\n\n  const handleNotAuth = () => {\n    setAuth(false);\n  };\n\n  const { promiseInProgress } = usePromiseTracker();\n\n  useEffect(() => {\n    // console.log('Fetch orders');\n    async function fetchOrderData() {\n      const res = await orderService.getOrders(checked, false);\n      if (res.status === 200) {\n        setOrders(res.data);\n      } else if (res.status === 401) {\n        setAuth(false);\n      } else {\n        alert('Issues with fetching orders');\n      }\n    }\n    fetchOrderData();\n  }, [checked, auth]);\n\n  useEffect(() => {\n    // console.log('Fetch orders');\n    async function fetchVendorData() {\n      const res = await vendorService.getAllVendors();\n      if (res.status === 200) {\n        setVendors(res.data);\n      } else if (res.status === 401) {\n        setAuth(false);\n      } else {\n        alert('Issues with fetching vendors');\n      }\n    }\n    fetchVendorData();\n  }, [checked, auth]);\n\n  useEffect(() => {\n    async function fetchWorkshopData() {\n      console.log('Fetch workshops');\n      const res = await adminService.getWorkshops(); //this line not getting workshops.\n      if (res.status === 200) {\n        setWorkshops(res.data);\n      } else if (res.status === 401) {\n        setAuth(false);\n      } else {\n        alert('Issues with fetching workshops');\n      }\n    }\n    fetchWorkshopData();\n  }, []);\n\n  useEffect(() => {\n    async function fetchData() {\n      const res = await donationService.getDonations();\n      if (res.status === 200) {\n        setDonations(res.data);\n      }\n      //  else {\n      //   alert('Error loading donations :(');\n      // }\n    }\n    fetchData();\n  }, []);\n\n  const handleConfirmVerify = (order_id) => {\n    setVerifyOrder(order_id);\n    setOpenVerify(true);\n  };\n\n  const handleConfirmDelete = (order_id) => {\n    setDeleteOrder(order_id);\n    setOpenDelete(true);\n  };\n\n  const handleConfirmEmail = (workshop_id) => {\n    setEmailWorkshop(workshop_id);\n    setOpenEmail(true);\n  };\n\n  const handleDialogResult = (continueAction) => {\n    if (openDelete) {\n      setOpenDelete(false);\n      if (continueAction) {\n        deleteOrder();\n      }\n    } else if (openVerify) {\n      setOpenVerify(false);\n      if (continueAction) {\n        verifyOrder();\n      }\n    } else if (openEmail) {\n      setOpenEmail(false);\n      if (continueAction) {\n        workshopSendReminder();\n      }\n    }\n  };\n  const verifyOrder = async () => {\n    if (orderToVerify == null) {\n      alert('No order selected to be verified!');\n    } else {\n      const res = await trackPromise(adminService.verifyOrder(orderToVerify));\n      // console.log(auth);\n      if (res.status === 200) {\n        history.go(0);\n      } else if (res.status === 401) {\n        setAuth(false);\n      } else {\n        alert(res.data.error);\n      }\n    }\n  };\n\n  const deleteOrder = async () => {\n    if (orderToDelete == null) {\n      alert('No order selected to be deleted!');\n    } else {\n      const res = await orderService.deleteOrder(orderToDelete);\n      if (res.status === 200) {\n        history.go(0);\n      } else if (res.status === 401) {\n        setAuth(false);\n      } else {\n        alert(`${res.status}, ${JSON.stringify(res.data)}`);\n      }\n    }\n  };\n\n  const downloadOrders = async () => {\n    console.log(workshops);\n    const res = await orderService.downloadOrdersAdmin();\n    // console.log(auth);\n    if (res.status === 200) {\n      FileDownload(res.data, 'orders.csv');\n    } else if (res.status === 401) {\n      setAuth(false);\n    } else {\n      alert(res.data.error);\n    }\n  };\n\n  const downloadVendorOrders = async (vendor_id, vendor_name) => {\n    const res = await orderService.downloadOrdersVendor(vendor_id);\n    // console.log(auth);\n    if (res.status === 200) {\n      FileDownload(res.data, `${vendor_name}.csv`);\n    } else if (res.status === 401) {\n      setAuth(false);\n    } else {\n      alert(res.data.error);\n    }\n  };\n\n  const downloadWorkshops = async () => {\n    const res = await workshopService.downloadWorkshops();\n    // console.log(auth);\n    if (res.status === 200) {\n      FileDownload(res.data, 'workshops.csv');\n    } else if (res.status === 401) {\n      setAuth(false);\n    } else {\n      alert(res.data.error);\n    }\n  };\n\n  const downloadIndivWorkshop = async (workshopId, workshopName) => {\n    const res = await workshopService.downloadIndivWorkshop(workshopId);\n    if (res.status === 200) {\n      FileDownload(res.data, `${workshopName}.csv`);\n    } else if (res.status === 401) {\n      setAuth(false);\n    } else {\n      alert(res.data.error);\n    }\n  };\n\n  const downloadPhotos = async () => {\n    const res = await photoService.downloadPhotos();\n    if (res.status === 200) {\n      FileDownload(res.data, 'photos.csv');\n    } else if (res.status === 401) {\n      setAuth(false);\n    } else {\n      alert(res.data.error);\n    }\n  };\n\n  const downloadLuckyDraw = async () => {\n    const res = await adminService.downloadLuckyDraw();\n    if (res.status === 200) {\n      FileDownload(res.data, 'luckydraw.csv');\n    } else if (res.status === 401) {\n      setAuth(false);\n    } else {\n      alert(res.data);\n    }\n  };\n\n  const downloadVotes = async () => {\n    const res = await adminService.downloadVotes();\n    if (res.status === 200) {\n      FileDownload(res.data, 'photovotes.csv');\n    } else if (res.status === 401) {\n      setAuth(false);\n    } else {\n      alert(res.data);\n    }\n  };\n\n  const sendEmails = async (event) => {\n    event.preventDefault();\n    const res = await trackPromise(adminService.sendEmails(selfCollDate));\n    if (res.status === 200) {\n      alert('Successfully sent!');\n    } else {\n      alert(res.data.error);\n    }\n  };\n\n  const workshopSendReminder = async () => {\n    if (workshopEmail == null) {\n      alert('No workshop selected to email!');\n    }\n    const res = await trackPromise(\n      adminService.sendWorkshopReminderEmails(workshopEmail)\n    );\n    if (res.status === 200) {\n      alert('Successfully sent!');\n    } else {\n      alert(`${res.status}`);\n    }\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const newInput = {\n      points: state.points,\n      category: state.category,\n    };\n    const res = await adminService.addPoints(newInput, state.emailAddress);\n    if (res.status === 200) {\n      alert('Added points successfully');\n    } else {\n      alert('Error while adding points');\n    }\n  };\n\n  const handleDonationSubmit = async (event) => {\n    event.preventDefault();\n    const newInput = {\n      amount: parseFloat(donationUpdate.amount),\n    };\n    const res = await donationService.updateDonations(\n      donationUpdate.name,\n      newInput\n    );\n    if (res.status === 200) {\n      alert('Updated donation tracker successfully');\n    } else {\n      alert('Error while updating donation tracker');\n    }\n  };\n\n  // function to bump workshop waitlist\n  const bumpWorkshopWaitlist = async () => {\n    // TBD: any checks necessary??\n    // TBD: not sure if trackPromise required or not\n    const res = await trackPromise(adminService.bumpWaitlist());\n    if (res.status === 200) {\n      alert('Successfully bumped waitlist.');\n    } else {\n      alert(`${res.status}`);\n    }\n  };\n\n  return (\n    <>\n      <LoadingSpinnerComponent />\n      {!auth && <AdminLogin parentCallback={handleLoginClose} />}\n      {auth ? (\n        <div className={classes.root}>\n          <Typography className={classes.paddedItem} variant=\"h4\">\n            {checked === true ? 'Verified Orders' : 'Unverified Orders'}\n          </Typography>\n          <Logout />\n          <Switch\n            checked={checked}\n            onChange={handleChange}\n            inputProps={{ 'aria-label': 'secondary checkbox' }}\n          />\n          {openDelete && (\n            <ConfirmationDialog\n              //callback\n              title=\"Delete Order?\"\n              content={'Are you sure you want to remove this order?'}\n              parentCallback={handleDialogResult}\n            />\n          )}\n          {openVerify && (\n            <ConfirmationDialog\n              //callback\n              title=\"Verify Order?\"\n              content={'Are you sure you want to verify this order?'}\n              parentCallback={handleDialogResult}\n            />\n          )}\n          <TableContainer component={Paper}>\n            <Table className={classes.table} aria-label=\"table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>Order Number</TableCell>\n                  <TableCell align=\"right\">Buyer</TableCell>\n                  <TableCell align=\"right\">Email Address</TableCell>\n                  <TableCell align=\"right\">Contact number</TableCell>\n                  <TableCell align=\"right\">Total</TableCell>\n                  <TableCell align=\"right\">Date time</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {orders &&\n                  orders.map((order, index) => (\n                    <TableRow key={index}>\n                      <TableCell component=\"th\" scope=\"row\">\n                        {order.orderNumber}\n                      </TableCell>\n                      <TableCell align=\"right\">{order.name}</TableCell>\n                      <TableCell align=\"right\">{order.emailAddress}</TableCell>\n                      <TableCell align=\"right\">{order.contactNumber}</TableCell>\n                      <TableCell align=\"right\">\n                        {Number.isInteger(order.total)\n                          ? order.total\n                          : order.total.toFixed(2)}\n                      </TableCell>\n                      <TableCell align=\"right\">{order.datetime}</TableCell>\n                      {!checked && (\n                        <>\n                          <IconButton\n                            edge=\"end\"\n                            aria-label=\"download\"\n                            disabled={promiseInProgress}\n                          >\n                            <DoneIcon\n                              onClick={() => handleConfirmVerify(order._id)}\n                            />\n                          </IconButton>\n                          <IconButton\n                            edge=\"end\"\n                            aria-label=\"delete\"\n                            disabled={promiseInProgress}\n                          >\n                            <DeleteIcon\n                              onClick={() => handleConfirmDelete(order._id)}\n                            />\n                          </IconButton>\n                        </>\n                      )}\n                    </TableRow>\n                  ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n          {vendors &&\n            vendors.map((vendor, index) => (\n              <>\n                <Button\n                  key={index}\n                  variant=\"contained\"\n                  color=\"default\"\n                  className={classes.button}\n                  startIcon={<GetAppIcon />}\n                  onClick={() =>\n                    downloadVendorOrders(vendor._id, vendor.displayName)\n                  }\n                  disabled={promiseInProgress}\n                >\n                  Download {vendor.displayName} orders\n                </Button>\n                <br></br>\n              </>\n            ))}\n          <Button\n            variant=\"contained\"\n            color=\"default\"\n            className={classes.button}\n            startIcon={<GetAppIcon />}\n            onClick={downloadOrders}\n            disabled={promiseInProgress}\n          >\n            Download Orders\n          </Button>\n          <Typography className={classes.paddedItem} variant=\"h4\">\n            Send Reminder Emails\n          </Typography>\n          <form\n            className={classes.form}\n            autoComplete=\"off\"\n            onSubmit={sendEmails}\n          >\n            <FormControl color=\"secondary\" className={classes.formSection}>\n              <InputLabel>Self Collection Date</InputLabel>\n              <Select value={selfCollDate} onChange={handleSelfCollChange}>\n                {/* <MenuItem value={'18febslot1'}>18 February 12-2pm</MenuItem>\n                <MenuItem value={'18febslot2'}>18 February 6-8pm</MenuItem>\n                <MenuItem value={'11marslot1'}>11 March 12-2pm</MenuItem>\n                <MenuItem value={'11marslot2'}>11 March 6-8pm</MenuItem>\n                <MenuItem value={'25marslot1'}>25 March 12-2pm</MenuItem>\n                <MenuItem value={'25marslot2'}>25 March 6-8pm</MenuItem> */}\n                {/* <MenuItem value={'14febslot1'}>14 February 12-2pm</MenuItem>\n                <MenuItem value={'14febslot2'}>14 February 5-6.30pm</MenuItem> */}\n                <MenuItem value={'23febslot1'}>23 February 12-4pm</MenuItem>\n                <MenuItem value={'09marslot1'}>9th March 2-6pm</MenuItem>\n              </Select>\n            </FormControl>\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"default\"\n              className={classes.button}\n              startIcon={<MailIcon />}\n            >\n              Send Email\n            </Button>\n          </form>\n          <Typography className={classes.paddedItem} variant=\"h4\">\n            Workshops\n          </Typography>\n          <Button\n            variant=\"contained\"\n            color=\"default\"\n            className={classes.button}\n            startIcon={<GetAppIcon />}\n            onClick={bumpWorkshopWaitlist}\n          >\n            Bump Workshop Waitlist\n          </Button>\n\n          {openEmail && (\n            <ConfirmationDialog\n              //callback\n              title=\"Send Email?\"\n              content={'Are you sure you want to send emails?'}\n              parentCallback={handleDialogResult}\n            />\n          )}\n          <TableContainer component={Paper}>\n            <Table className={classes.table} aria-label=\"table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>Workshop</TableCell>\n                  <TableCell align=\"right\">Sign Ups</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {workshops &&\n                  workshops.map((workshop, index) => (\n                    <TableRow key={index}>\n                      <TableCell component=\"th\" scope=\"row\">\n                        {workshop.name}\n                      </TableCell>\n                      <TableCell align=\"right\">{`${workshop.registeredParticipants.length}/${workshop.maxParticipants}`}</TableCell>\n                      <IconButton edge=\"end\" aria-label=\"download\">\n                        <GetAppIcon\n                          onClick={() =>\n                            downloadIndivWorkshop(workshop._id, workshop.name)\n                          }\n                        />\n                      </IconButton>\n                      <IconButton edge=\"end\" aria-label=\"emails\">\n                        <MailIcon\n                          onClick={() => handleConfirmEmail(workshop._id)}\n                        />\n                      </IconButton>\n                    </TableRow>\n                  ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n          <Button\n            variant=\"contained\"\n            color=\"default\"\n            className={classes.button}\n            startIcon={<GetAppIcon />}\n            onClick={downloadWorkshops}\n          >\n            Download All Workshop Sign Ups\n          </Button>\n          <br></br>\n          <VerifyWorkshops\n            handleNotAuth={handleNotAuth}\n            workshops={workshops}\n          />\n          <Typography className={classes.paddedItem} variant=\"h4\">\n            Photos\n          </Typography>\n          <Button\n            variant=\"contained\"\n            color=\"default\"\n            className={classes.button}\n            startIcon={<GetAppIcon />}\n            onClick={downloadPhotos}\n            disabled={promiseInProgress}\n          >\n            Download Photos\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"default\"\n            className={classes.button}\n            startIcon={<GetAppIcon />}\n            onClick={downloadVotes}\n            disabled={promiseInProgress}\n          >\n            Download Votes Data\n          </Button>\n          <Typography className={classes.paddedItem} variant=\"h4\">\n            Add Lucky Draw Points\n          </Typography>\n          <form\n            className={classes.form}\n            autoComplete=\"off\"\n            onSubmit={handleSubmit}\n          >\n            <TextField\n              required\n              id=\"email-address\"\n              label=\"Email Address\"\n              type=\"text\"\n              variant=\"outlined\"\n              color=\"secondary\"\n              onChange={handleInputChange('emailAddress')}\n            />\n            <FormControl\n              required\n              variant=\"outlined\"\n              color=\"secondary\"\n              className={classes.formSection}\n            >\n              <InputLabel htmlFor=\"points\">Points</InputLabel>\n              <OutlinedInput\n                id=\"points\"\n                onChange={handleInputChange('points')}\n                labelWidth={60}\n                inputProps={{\n                  pattern: '[0-9]*',\n                }}\n                type=\"number\"\n              />\n            </FormControl>\n            <FormControl\n              required\n              variant=\"outlined\"\n              color=\"secondary\"\n              className={classes.formSection}\n            >\n              <Autocomplete\n                id=\"points-category\"\n                options={categories}\n                getOptionLabel={(option) => option}\n                style={{ width: 300 }}\n                onChange={(event, newInputValue) => {\n                  setState({ ...state, category: newInputValue });\n                }}\n                renderInput={(params) => (\n                  <TextField\n                    {...params}\n                    required\n                    color=\"secondary\"\n                    label=\"Category\"\n                    variant=\"outlined\"\n                    value={state.category}\n                  />\n                )}\n              />\n            </FormControl>\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"default\"\n              className={classes.button}\n              endIcon={<AddIcon />}\n            >\n              Add Points\n            </Button>\n          </form>\n          <br></br>\n          <Button\n            variant=\"contained\"\n            color=\"default\"\n            className={classes.button}\n            startIcon={<GetAppIcon />}\n            onClick={downloadLuckyDraw}\n            disabled={promiseInProgress}\n          >\n            Download Lucky Draw Data\n          </Button>\n          <Typography className={classes.paddedItem} variant=\"h4\">\n            Update Donation Tracker\n          </Typography>\n          <form\n            className={classes.form}\n            autoComplete=\"off\"\n            onSubmit={handleDonationSubmit}\n          >\n            <FormControl\n              required\n              variant=\"outlined\"\n              color=\"secondary\"\n              className={classes.formSection}\n            >\n              <Autocomplete\n                id=\"select-donation-category\"\n                options={[...donations.map((donation) => donation.name)]}\n                getOptionLabel={(option) => option}\n                style={{ width: 300 }}\n                name=\"name\"\n                onChange={(event, newName) => {\n                  setDonationUpdate({ ...donationUpdate, name: newName });\n                }}\n                renderInput={(params) => (\n                  <TextField\n                    {...params}\n                    required\n                    color=\"secondary\"\n                    label=\"Category\"\n                    variant=\"outlined\"\n                    value={donationUpdate.name}\n                  />\n                )}\n              />\n            </FormControl>\n            <Typography style={{ paddingBottom: 20 }}>\n              {donationUpdate.name !== '' &&\n                donationUpdate.name !== null &&\n                `Current amount for ${donationUpdate.name}: $\n              ${\n                donations.find(\n                  (donation) => donation.name === donationUpdate.name\n                )\n                  ? donations.find(\n                      (donation) => donation.name === donationUpdate.name\n                    ).amount\n                  : 0\n              }`}\n            </Typography>\n            <FormControl\n              required\n              variant=\"outlined\"\n              color=\"secondary\"\n              name=\"amount\"\n              style={{\n                display: 'block',\n                maxWidth: 300,\n                paddingBottom: 10,\n              }}\n            >\n              <InputLabel htmlFor=\"donation amount\">\n                New Donation Amount\n              </InputLabel>\n              <OutlinedInput\n                id=\"price\"\n                value={donationUpdate.amount}\n                name=\"amount\"\n                onChange={handleDonationInputChange('amount')}\n                startAdornment={\n                  <InputAdornment position=\"start\">$</InputAdornment>\n                }\n                fullWidth\n                labelWidth={170}\n                inputProps={{\n                  min: '0',\n                  step: '0.01',\n                  // pattern: '[0-9]*',\n                }}\n                type=\"number\"\n              />\n            </FormControl>\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"secondary\"\n              className={classes.button}\n            >\n              Update Donation Tracker\n            </Button>\n          </form>\n        </div>\n      ) : null}\n    </>\n  );\n}\n\nexport default AdminManage;\n"]},"metadata":{},"sourceType":"module"}