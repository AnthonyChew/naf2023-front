{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import{lighten,makeStyles}from'@material-ui/core/styles';import Typography from'@material-ui/core/Typography';// import { useSelector } from 'react-redux';\nimport React,{useState,useEffect}from'react';// import clsx from 'clsx';\nimport Grid from'@material-ui/core/Grid';import{Button}from'@material-ui/core';import Box from'@material-ui/core/Box';import AddProduct from'./AddProduct';import ProductTable from'./ProductTable';import OrderTable from'./OrderTable';import{ReactComponent as LinesLeft}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/VendorLogin/LinesLeft.svg\";import{ReactComponent as StarsTop}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/VendorLogin/StarTop.svg\";import{ReactComponent as StarsBottom}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/VendorLogin/StarBottom.svg\";import{ReactComponent as LinesRight}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/VendorLogin/LinesRight.svg\";import{ReactComponent as Background}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/VendorLogin/Background.svg\";import VendorAuth from'../Authentication/VendorLogin';import vendorService from'../services/vendors';import ordersService from'../services/orders';import FileDownload from'js-file-download';import Logout from'../Authentication/Logout';import EditVendor from'./EditVendor';import{LoadingSpinnerComponent}from'../utils/LoadingSpinnerComponent';import{trackPromise}from'react-promise-tracker';import{Hidden}from'@material-ui/core';var useStyles=makeStyles(function(theme){var _ref;return _ref={root:{paddingTop:theme.spacing(10),paddingBottom:theme.spacing(10),position:'relative'},content:{width:'100%',margin:'auto',textAlign:'center'},vendorLoginTitle:{color:\"#033F63\",marginTop:theme.spacing(3)},welcome:{color:\"#033F63\",textTransform:'uppercase',fontWeight:'bold',marginTop:theme.spacing(2),marginBottom:theme.spacing(2)},description:{width:'50%',margin:'auto'}},_defineProperty(_ref,theme.breakpoints.down('sm'),{content:{width:'100%'},description:{width:'90%'}}),_defineProperty(_ref,\"paper\",{width:'100%',marginBottom:theme.spacing(2)}),_defineProperty(_ref,\"visuallyHidden\",{border:0,clip:'rect(0 0 0 0)',height:1,margin:-1,overflow:'auto',padding:0,position:'absolute',top:20,width:1}),_defineProperty(_ref,\"pdtAndImg\",{display:'flex',alignItems:'center'}),_defineProperty(_ref,\"pdtImg\",{marginLeft:theme.spacing(1),marginRight:theme.spacing(1),marginTop:theme.spacing(1),marginBottom:theme.spacing(1),maxHeight:70}),_defineProperty(_ref,\"button\",{padding:theme.spacing(2),margin:'auto'}),_defineProperty(_ref,\"myProductWrapper\",_defineProperty({},theme.breakpoints.down('sm'),{backgroundColor:\"#B5B682\",marginTop:20,paddingBottom:30})),_ref;});function VendorLogin(){var classes=useStyles();// const products = useSelector((state) => state.products);\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),profile=_useState2[0],setProfile=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),auth=_useState4[0],setAuth=_useState4[1];// console.log(profile);\nvar contactNumber=profile&&profile.contactNumber;var emailAddress=profile&&profile.emailAddress;var instagramAccount=profile&&profile.instagramAccount;var website=profile&&profile.website;useEffect(function(){function fetchProfileData(){return _fetchProfileData.apply(this,arguments);}function _fetchProfileData(){_fetchProfileData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return trackPromise(vendorService.getVendorProfile());case 2:res=_context.sent;if(res.status===200){setProfile(res.data);// console.log(res.data);\n}else{setAuth(false);}case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchProfileData.apply(this,arguments);}fetchProfileData();},[auth]);//ADD PRODUCT DIALOG\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);setEdit(false);};var handleLoginClose=function handleLoginClose(){setAuth(true);};//EDIT VENDOR DIALOG\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),edit=_useState8[0],setEdit=_useState8[1];var editProfile=function editProfile(){setEdit(true);};var downloadOrders=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return trackPromise(ordersService.downloadOrders());case 2:res=_context2.sent;if(res.status===200){FileDownload(res.data,'orders.csv');}else if(res.status===404){alert('There are no orders to be downloaded.');}else{alert('There is a problem with downloading orders.');}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function downloadOrders(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(LoadingSpinnerComponent,null),auth?/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(\"div\",{className:classes.content},/*#__PURE__*/React.createElement(Typography,{className:classes.vendorLoginTitle,variant:\"h2\"},\"VENDOR LOGIN\"),/*#__PURE__*/React.createElement(Typography,{className:classes.welcome,paragraph:true},\"Welcome back, \",profile&&profile.displayName,\"!\"),/*#__PURE__*/React.createElement(Typography,{paragraph:true,className:classes.description},profile&&profile.description),contactNumber?/*#__PURE__*/React.createElement(Typography,{paragraph:true,className:classes.contactDetails},\"Contact number: \",contactNumber):null,emailAddress?/*#__PURE__*/React.createElement(Typography,{paragraph:true,className:classes.contactDetails},\"Email address: \",emailAddress):null,instagramAccount?/*#__PURE__*/React.createElement(Typography,{paragraph:true,className:classes.contactDetails},\"Social media: \",instagramAccount):null,website?/*#__PURE__*/React.createElement(Typography,{paragraph:true,className:classes.contactDetails},\"Website: \",website):null,/*#__PURE__*/React.createElement(Logout,null),/*#__PURE__*/React.createElement(Box,{textAlign:\"center\",className:classes.button},/*#__PURE__*/React.createElement(Button,{onClick:editProfile,variant:\"contained\"},\"Edit Profile\")),edit&&/*#__PURE__*/React.createElement(EditVendor//callback\n,{parentCallback:handleClose,vendor:profile}),/*#__PURE__*/React.createElement(Grid,{className:classes.myProductWrapper},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"flex-end\",alignItems:\"center\",spacing:3,style:{position:'relative',paddingTop:20}},/*#__PURE__*/React.createElement(Hidden,{smDown:true},/*#__PURE__*/React.createElement(StarsTop,{style:{zIndex:0,top:40,left:'0%',position:'absolute'}}),/*#__PURE__*/React.createElement(LinesLeft,{style:{zIndex:0,top:1000,left:'0%',position:'absolute'}}),/*#__PURE__*/React.createElement(StarsBottom,{style:{zIndex:0,top:1000,right:'0%',position:'absolute'}}),/*#__PURE__*/React.createElement(LinesRight,{style:{zIndex:0,top:150,right:'0%',position:'absolute'}}),/*#__PURE__*/React.createElement(Background,{\"data-aos\":\"slide-right\",\"data-aos-duration\":\"1000\",style:{zIndex:-999,top:-20,position:'absolute',overflowY:'hidden'}})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:4,style:{position:'relative'}},/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",size:\"large\",onClick:handleClickOpen,id:\"addProduct\"},\"Add Product\"),open&&/*#__PURE__*/React.createElement(AddProduct//callback\n,{parentCallback:handleClose,type:\"add\"}))),/*#__PURE__*/React.createElement(ProductTable,{rows:profile&&profile.products,isNested:false}),/*#__PURE__*/React.createElement(Box,{textAlign:\"center\"},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",onClick:downloadOrders},\"Download orders\"))))):/*#__PURE__*/React.createElement(VendorAuth,{parentCallback:handleLoginClose}));}export default VendorLogin;","map":{"version":3,"sources":["C:/Users/antho/OneDrive/Desktop/naf2022-front/src/MarketPlacePage/VendorLogin.js"],"names":["lighten","makeStyles","Typography","React","useState","useEffect","Grid","Button","Box","AddProduct","ProductTable","OrderTable","VendorAuth","vendorService","ordersService","FileDownload","Logout","EditVendor","LoadingSpinnerComponent","trackPromise","Hidden","useStyles","theme","root","paddingTop","spacing","paddingBottom","position","content","width","margin","textAlign","vendorLoginTitle","color","marginTop","welcome","textTransform","fontWeight","marginBottom","description","breakpoints","down","border","clip","height","overflow","padding","top","display","alignItems","marginLeft","marginRight","maxHeight","backgroundColor","VendorLogin","classes","profile","setProfile","auth","setAuth","contactNumber","emailAddress","instagramAccount","website","fetchProfileData","getVendorProfile","res","status","data","open","setOpen","handleClickOpen","handleClose","setEdit","handleLoginClose","edit","editProfile","downloadOrders","alert","displayName","contactDetails","button","myProductWrapper","zIndex","left","right","overflowY","products"],"mappings":"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","sourcesContent":["import { lighten, makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n// import { useSelector } from 'react-redux';\nimport React, { useState, useEffect } from 'react';\n// import clsx from 'clsx';\nimport Grid from '@material-ui/core/Grid';\nimport { Button } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport AddProduct from './AddProduct';\nimport ProductTable from './ProductTable';\nimport OrderTable from './OrderTable';\nimport { ReactComponent as LinesLeft } from './2022SVG/VendorLogin/LinesLeft.svg';\nimport { ReactComponent as StarsTop } from './2022SVG/VendorLogin/StarTop.svg';\nimport { ReactComponent as StarsBottom } from './2022SVG/VendorLogin/StarBottom.svg';\nimport { ReactComponent as LinesRight } from './2022SVG/VendorLogin/LinesRight.svg';\nimport { ReactComponent as Background } from './2022SVG/VendorLogin/Background.svg';\n\nimport VendorAuth from '../Authentication/VendorLogin';\nimport vendorService from '../services/vendors';\nimport ordersService from '../services/orders';\nimport FileDownload from 'js-file-download';\nimport Logout from '../Authentication/Logout';\nimport EditVendor from './EditVendor';\nimport { LoadingSpinnerComponent } from '../utils/LoadingSpinnerComponent';\nimport { trackPromise } from 'react-promise-tracker';\nimport { Hidden } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingTop: theme.spacing(10),\n    paddingBottom: theme.spacing(10),\n    position: 'relative',\n  },\n  content: {\n    width: '100%',\n    margin: 'auto',\n    textAlign: 'center',\n  },\n  vendorLoginTitle: {\n    color: \"#033F63\",\n    marginTop: theme.spacing(3),\n  },\n  welcome: {\n    color: \"#033F63\",\n    textTransform: 'uppercase',\n    fontWeight: 'bold',\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  description: {\n    width: '50%',\n    margin: 'auto',\n  },\n  [theme.breakpoints.down('sm')]: {\n    content: {\n      width: '100%',\n    },\n    description: {\n      width: '90%',\n    },\n  },\n  paper: {\n    width: '100%',\n    marginBottom: theme.spacing(2),\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'auto',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n  pdtAndImg: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  pdtImg: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    maxHeight: 70,\n  },\n  button: {\n    padding: theme.spacing(2),\n    margin: 'auto',\n  },\n  myProductWrapper: {\n    [theme.breakpoints.down('sm')]: {\n      backgroundColor: \"#B5B682\",\n      marginTop: 20,\n      paddingBottom: 30\n    },\n  }\n}));\n\nfunction VendorLogin() {\n  const classes = useStyles();\n  // const products = useSelector((state) => state.products);\n  const [profile, setProfile] = useState(null);\n  const [auth, setAuth] = useState(true);\n  // console.log(profile);\n  const contactNumber = profile && profile.contactNumber;\n  const emailAddress = profile && profile.emailAddress;\n  const instagramAccount = profile && profile.instagramAccount;\n  const website = profile && profile.website;\n\n  useEffect(() => {\n    async function fetchProfileData() {\n      const res = await trackPromise(vendorService.getVendorProfile());\n      if (res.status === 200) {\n        setProfile(res.data);\n        // console.log(res.data);\n      } else {\n        setAuth(false);\n      }\n    }\n    fetchProfileData();\n  }, [auth]);\n\n  //ADD PRODUCT DIALOG\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n    setEdit(false);\n  };\n\n  const handleLoginClose = () => {\n    setAuth(true);\n  };\n\n  //EDIT VENDOR DIALOG\n  const [edit, setEdit] = useState(false);\n\n  const editProfile = () => {\n    setEdit(true);\n  };\n\n  const downloadOrders = async () => {\n    const res = await trackPromise(ordersService.downloadOrders());\n    if (res.status === 200) {\n      FileDownload(res.data, 'orders.csv');\n    } else if (res.status === 404) {\n      alert('There are no orders to be downloaded.');\n    } else {\n      alert('There is a problem with downloading orders.');\n    }\n  };\n\n  return (\n    <>\n      <LoadingSpinnerComponent />\n      {auth ? (\n        <div className={classes.root}>\n\n          <div className={classes.content}>\n            <Typography className={classes.vendorLoginTitle} variant=\"h2\">\n              VENDOR LOGIN\n            </Typography>\n            <Typography className={classes.welcome} paragraph>\n              Welcome back, {profile && profile.displayName}!\n            </Typography>\n            <Typography paragraph className={classes.description}>\n              {profile && profile.description}\n            </Typography>\n            {contactNumber ? (\n              <Typography paragraph className={classes.contactDetails}>\n                Contact number: {contactNumber}\n              </Typography>\n            ) : null}\n            {emailAddress ? (\n              <Typography paragraph className={classes.contactDetails}>\n                Email address: {emailAddress}\n              </Typography>\n            ) : null}\n            {instagramAccount ? (\n              <Typography paragraph className={classes.contactDetails}>\n                Social media: {instagramAccount}\n              </Typography>\n            ) : null}\n            {website ? (\n              <Typography paragraph className={classes.contactDetails}>\n                Website: {website}\n              </Typography>\n            ) : null}\n            <Logout />\n            <Box textAlign=\"center\" className={classes.button}>\n              <Button onClick={editProfile} variant=\"contained\">\n                Edit Profile\n              </Button>\n            </Box>\n            {edit && (\n              <EditVendor\n                //callback\n                parentCallback={handleClose}\n                vendor={profile}\n              />\n            )}\n            <Grid className={classes.myProductWrapper}>\n\n           \n            <Grid\n              container\n              justify=\"flex-end\"\n              alignItems=\"center\"\n              spacing={3}\n              style={{position: 'relative', paddingTop: 20}}\n            >\n              <Hidden smDown>\n\n\n                <StarsTop style={{ zIndex: 0, top: 40, left: '0%', position: 'absolute' }} />\n                <LinesLeft style={{ zIndex: 0, top: 1000, left: '0%', position: 'absolute' }} />\n                <StarsBottom style={{ zIndex: 0, top: 1000, right: '0%', position: 'absolute' }} />\n                <LinesRight style={{ zIndex: 0, top: 150, right: '0%', position: 'absolute' }} />\n                <Background\n                  data-aos=\"slide-right\"\n                  data-aos-duration=\"1000\"\n                  style={{\n                    zIndex: -999,\n                    top: -20,\n                    position: 'absolute',\n                    overflowY: 'hidden',\n                  }}\n                />\n              </Hidden>\n              <Grid item xs={12} sm={4} style={{ position: 'relative' }}>\n                <Button\n                  variant=\"outlined\"\n                  size=\"large\"\n                  onClick={handleClickOpen}\n                  id=\"addProduct\"\n                >\n                  Add Product\n                </Button>\n                {/* <PurpleOrangeAccentSVG\n                  data-aos=\"zoom-out\"\n                  data-aos-duration=\"1000\"\n                  data-aos-anchor=\"#addProduct\"\n                  style={{ zIndex: -999, position: 'absolute' }}\n                /> */}\n                {open && (\n                  <AddProduct\n                    //callback\n                    parentCallback={handleClose}\n                    type=\"add\"\n                  />\n                )}\n              </Grid>\n              </Grid>\n            <ProductTable rows={profile && profile.products} isNested={false} />\n            <Box textAlign=\"center\" >\n              <Button variant=\"contained\" onClick={downloadOrders}>\n                Download orders\n              </Button>\n            </Box>\n            </Grid>\n          </div>\n        </div>\n      ) : (\n        <VendorAuth parentCallback={handleLoginClose} />\n      )}\n    </>\n  );\n}\n\nexport default VendorLogin;\n"]},"metadata":{},"sourceType":"module"}