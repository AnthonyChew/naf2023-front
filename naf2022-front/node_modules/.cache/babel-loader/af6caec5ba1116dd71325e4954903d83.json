{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{makeStyles,withStyles,useTheme}from'@material-ui/core/styles';import Typography from'@material-ui/core/Typography';import MuiAccordion from'@material-ui/core/Accordion';import MuiAccordionSummary from'@material-ui/core/AccordionSummary';import MuiAccordionDetails from'@material-ui/core/AccordionDetails';import Slider from'react-slick';import useMediaQuery from'@material-ui/core/useMediaQuery';import Grid from'@material-ui/core/Grid';import Button from'@material-ui/core/Button';import SignupPopup from'./SignupPopup';import WorkshopOverPopup from'./WorkshopOverPopup';import UserLogin from'../Authentication/UserLogin';import authService from'../services/auth';import moment from'moment';import Snackbar from'@material-ui/core/Snackbar';import IconButton from'@material-ui/core/IconButton';import CloseIcon from'@material-ui/icons/Close';var useStyles=makeStyles(function(theme){return{root:{maxWidth:600,margin:theme.spacing(3),padding:theme.spacing(2),textAlign:'left'},thumbnail:{width:'100%',height:200,objectFit:'cover',margin:'auto'}};});var Accordion=withStyles({root:{boxShadow:1,// border: '1px solid rgba(0, 0, 0, .125)',\n'&:not(:last-child)':{borderBottom:0},'&:before':{display:'none'},'&$expanded':{margin:'auto'}},expanded:{}})(MuiAccordion);var AccordionSummary=withStyles({root:{// backgroundColor: '#fffef2',\nmarginBottom:-10},content:{'&$expanded':{margin:'12px 0'}},expanded:{}})(MuiAccordionSummary);var AccordionDetails=withStyles(function(theme){return{root:{padding:theme.spacing(2),display:'flex',flexWrap:'wrap',justifyContent:'space-around',alignItems:'center'}};})(MuiAccordionDetails);export default function WorkshopCard(props){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),expanded=_React$useState2[0],setExpanded=_React$useState2[1];var handleChange=function handleChange(panel){return function(event,isExpanded){setExpanded(isExpanded?panel:false);};};var workshop=props.workshop;var name=workshop.name,organizer=workshop.organizer,description=workshop.description,category=workshop.category,date=workshop.date,startTime=workshop.startTime,duration=workshop.duration,images=workshop.images,location=workshop.location,maxParticipants=workshop.maxParticipants,numRegistered=workshop.numRegistered;var classes=useStyles();var theme=useTheme();var dialogSize=useMediaQuery(theme.breakpoints.down('xs'));var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),auth=_useState4[0],setAuth=_useState4[1];//Every time they click\nvar checkAuth=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return authService.checkAuthStudent();case 2:res=_context.sent;if(res.status===401){setAuth(false);}else if(res.status===200){handleClickOpen();}case 4:case\"end\":return _context.stop();}}},_callee);}));return function checkAuth(){return _ref.apply(this,arguments);};}();var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(isSuccess){setOpen(false);if(isSuccess){handleOpenSnackbar();}};var handleLoginClose=function handleLoginClose(){setAuth(true);};//snackbar for signing up for workshop\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),snackbarOpen=_useState6[0],setSnackbarOpen=_useState6[1];var handleOpenSnackbar=function handleOpenSnackbar(){console.log('opening snackbar');setSnackbarOpen(true);};var handleCloseSnackbar=function handleCloseSnackbar(){console.log('closing snackbar');setSnackbarOpen(false);};var current_date=moment().format('YYYY-MM-DD');var settings={dots:dialogSize?false:true,dotsClass:\"slick-dots \".concat(classes.dots),infinite:true,arrows:false,autoplay:true,speed:500,slidesToShow:1,slidesToScroll:1// adaptiveHeight: true,\n};function calculateEndTime(startTime,duration){var time=new Date();var timeSplit=startTime.split(':');time.setHours(parseInt(timeSplit[0]));time.setMinutes(parseInt(timeSplit[1]));var newTime=new Date(time.getTime()+duration*60000);// 60,000 ms\nreturn newTime.getHours().toString()+':'+(newTime.getMinutes()<10?'0':'')+newTime.getMinutes().toString();}return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(Accordion,{expanded:expanded==='panel1',onChange:handleChange('panel1')},/*#__PURE__*/React.createElement(AccordionSummary,{\"aria-controls\":\"panel1d-content\",id:\"panel1d-header\"},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3,alignItems:\"center\",justify:\"center\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(\"img\",{src:images&&images[0],alt:name,className:classes.thumbnail})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",style:{color:'#033F63'},component:\"p\"},/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(Typography,{gutterBottom:true,variant:\"h5\",style:{color:'#033F63'},component:\"h2\"},name),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",style:{color:'#033F63'},component:\"p\"},\"Category: \",category),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",style:{color:'#033F63'},component:\"p\"},\"Organizer: \",organizer),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",style:{color:'#033F63'},component:\"p\"},\"Date: \",date&&date.substr(0,10)),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",style:{color:'#033F63'},component:\"p\"},\"Time: \",startTime,\" - \",calculateEndTime(startTime,duration)),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",style:{color:'#033F63'},component:\"p\"},\"Duration: \",duration,\" minutes\"),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",style:{color:'#033F63'},component:\"p\"},\"Vacancies:\",' ',maxParticipants-numRegistered>1000?'Unlimited':maxParticipants-numRegistered)),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12}))),/*#__PURE__*/React.createElement(AccordionDetails,null,/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Typography,{variant:\"body1\",color:\"textSecondary\",component:\"p\"},description),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",color:\"textSecondary\",component:\"p\"},/*#__PURE__*/React.createElement(\"br\",null),\"Location: \",location)),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Button,{onClick:checkAuth,className:classes.actionButton,variant:\"contained\",color:\"secondary\",disabled:new Date().getTime()<new Date('30 January 2022').getTime()||new Date().getTime()>=new Date('12 February 2022 00:00:00').getTime()},\"Sign Up\")))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12})))),/*#__PURE__*/React.createElement(Snackbar,{anchorOrigin:{vertical:'bottom',horizontal:'left'},open:snackbarOpen,autoHideDuration:6000,onClose:handleCloseSnackbar,message:'You have successfully signed up for the workshop! View your workshops at your profile page.',action:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(IconButton,{size:\"small\",\"aria-label\":\"close\",color:\"inherit\",onClick:handleCloseSnackbar},/*#__PURE__*/React.createElement(CloseIcon,{fontSize:\"small\"})))}),!auth&&/*#__PURE__*/React.createElement(UserLogin,{parentCallback:handleLoginClose}),open&&current_date<={date:date}&&/*#__PURE__*/React.createElement(SignupPopup//callback\n,{workshop:workshop,parentCallback:handleClose}),open&&current_date>{date:date}&&/*#__PURE__*/React.createElement(WorkshopOverPopup//callback\n,{parentCallback:handleClose}));}","map":{"version":3,"sources":["C:/Users/antho/OneDrive/Desktop/naf2022-front/src/ProgrammesPage/WorkshopCard.js"],"names":["React","useState","makeStyles","withStyles","useTheme","Typography","MuiAccordion","MuiAccordionSummary","MuiAccordionDetails","Slider","useMediaQuery","Grid","Button","SignupPopup","WorkshopOverPopup","UserLogin","authService","moment","Snackbar","IconButton","CloseIcon","useStyles","theme","root","maxWidth","margin","spacing","padding","textAlign","thumbnail","width","height","objectFit","Accordion","boxShadow","borderBottom","display","expanded","AccordionSummary","marginBottom","content","AccordionDetails","flexWrap","justifyContent","alignItems","WorkshopCard","props","setExpanded","handleChange","panel","event","isExpanded","workshop","name","organizer","description","category","date","startTime","duration","images","location","maxParticipants","numRegistered","classes","dialogSize","breakpoints","down","open","setOpen","auth","setAuth","checkAuth","checkAuthStudent","res","status","handleClickOpen","handleClose","isSuccess","handleOpenSnackbar","handleLoginClose","snackbarOpen","setSnackbarOpen","console","log","handleCloseSnackbar","current_date","format","settings","dots","dotsClass","infinite","arrows","autoplay","speed","slidesToShow","slidesToScroll","calculateEndTime","time","Date","timeSplit","split","setHours","parseInt","setMinutes","newTime","getTime","getHours","toString","getMinutes","color","substr","actionButton","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { makeStyles, withStyles, useTheme } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport MuiAccordion from '@material-ui/core/Accordion';\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary';\nimport MuiAccordionDetails from '@material-ui/core/AccordionDetails';\nimport Slider from 'react-slick';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport SignupPopup from './SignupPopup';\nimport WorkshopOverPopup from './WorkshopOverPopup';\nimport UserLogin from '../Authentication/UserLogin';\nimport authService from '../services/auth';\nimport moment from 'moment';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    maxWidth: 600,\n    margin: theme.spacing(3),\n    padding: theme.spacing(2),\n    textAlign: 'left',\n  },\n  thumbnail: {\n    width: '100%',\n    height: 200,\n    objectFit: 'cover',\n    margin: 'auto',\n  },\n}));\n\nconst Accordion = withStyles({\n  root: {\n    boxShadow: 1,\n    // border: '1px solid rgba(0, 0, 0, .125)',\n    '&:not(:last-child)': {\n      borderBottom: 0,\n    },\n    '&:before': {\n      display: 'none',\n    },\n    '&$expanded': {\n      margin: 'auto',\n    },\n  },\n  expanded: {},\n})(MuiAccordion);\n\nconst AccordionSummary = withStyles({\n  root: {\n    // backgroundColor: '#fffef2',\n    marginBottom: -10,\n  },\n  content: {\n    '&$expanded': {\n      margin: '12px 0',\n    },\n  },\n  expanded: {},\n})(MuiAccordionSummary);\n\nconst AccordionDetails = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    alignItems: 'center',\n  },\n}))(MuiAccordionDetails);\n\nexport default function WorkshopCard(props) {\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n  const { workshop } = props;\n  const {\n    name,\n    organizer,\n    description,\n    category,\n    date,\n    startTime,\n    duration,\n    images,\n    location,\n    maxParticipants,\n    numRegistered,\n  } = workshop;\n\n  const classes = useStyles();\n\n  const theme = useTheme();\n  const dialogSize = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [open, setOpen] = useState(false);\n  const [auth, setAuth] = useState(true);\n\n  //Every time they click\n\n  const checkAuth = async () => {\n    const res = await authService.checkAuthStudent();\n    if (res.status === 401) {\n      setAuth(false);\n    } else if (res.status === 200) {\n      handleClickOpen();\n    }\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = (isSuccess) => {\n    setOpen(false);\n    if (isSuccess) {\n      handleOpenSnackbar();\n    }\n  };\n\n  const handleLoginClose = () => {\n    setAuth(true);\n  };\n\n  //snackbar for signing up for workshop\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const handleOpenSnackbar = () => {\n    console.log('opening snackbar');\n    setSnackbarOpen(true);\n  };\n\n  const handleCloseSnackbar = () => {\n    console.log('closing snackbar');\n    setSnackbarOpen(false);\n  };\n\n  const current_date = moment().format('YYYY-MM-DD');\n\n  const settings = {\n    dots: dialogSize ? false : true,\n    dotsClass: `slick-dots ${classes.dots}`,\n    infinite: true,\n    arrows: false,\n    autoplay: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    // adaptiveHeight: true,\n  };\n\n  function calculateEndTime(startTime, duration) {\n    let time = new Date();\n    let timeSplit = startTime.split(':');\n    time.setHours(parseInt(timeSplit[0]));\n    time.setMinutes(parseInt(timeSplit[1]));\n\n    let newTime = new Date(time.getTime() + duration * 60000); // 60,000 ms\n\n    return (\n      newTime.getHours().toString() +\n      ':' +\n      (newTime.getMinutes() < 10 ? '0' : '') +\n      newTime.getMinutes().toString()\n    );\n  }\n\n  return (\n    <div className={classes.root}>\n      <Accordion\n        expanded={expanded === 'panel1'}\n        onChange={handleChange('panel1')}\n      >\n        <AccordionSummary aria-controls=\"panel1d-content\" id=\"panel1d-header\">\n          <Grid container spacing={3} alignItems=\"center\" justify=\"center\">\n            {/* <Grid item xs={1}></Grid> */}\n            <Grid item xs={6}>\n              <img\n                src={images && images[0]}\n                alt={name}\n                className={classes.thumbnail}\n              />\n            </Grid>\n            <Grid item xs={6}>\n              <Typography\n                variant=\"body2\"\n                style={{ color: '#033F63' }}\n                component=\"p\"\n              >\n                <br />\n              </Typography>\n              <Typography\n                gutterBottom\n                variant=\"h5\"\n                style={{ color: '#033F63' }}\n                component=\"h2\"\n              >\n                {name}\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                style={{ color: '#033F63' }}\n                component=\"p\"\n              >\n                Category: {category}\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                style={{ color: '#033F63' }}\n                component=\"p\"\n              >\n                Organizer: {organizer}\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                style={{ color: '#033F63' }}\n                component=\"p\"\n              >\n                Date: {date && date.substr(0, 10)}\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                style={{ color: '#033F63' }}\n                component=\"p\"\n              >\n                Time: {startTime} - {calculateEndTime(startTime, duration)}\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                style={{ color: '#033F63' }}\n                component=\"p\"\n              >\n                Duration: {duration} minutes\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                style={{ color: '#033F63' }}\n                component=\"p\"\n              >\n                Vacancies:{' '}\n                {maxParticipants - numRegistered > 1000\n                  ? 'Unlimited'\n                  : maxParticipants - numRegistered}\n              </Typography>\n            </Grid>\n            <Grid item xs={12}></Grid>\n          </Grid>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Grid container spacing={3}>\n            {/* <Grid item xs={6}>\n              <Slider {...settings}>\n                {images.map((image, index) => (\n                  <img\n                    key={index}\n                    className={classes.img}\n                    src={image}\n                    alt={name}\n                  />\n                ))}\n              </Slider>\n            </Grid> */}\n            <Grid item xs={12}>\n              <Grid container spacing={3}>\n                <Grid item xs={12}></Grid>\n                <Grid item xs={12}>\n                  <Typography\n                    variant=\"body1\"\n                    color=\"textSecondary\"\n                    component=\"p\"\n                  >\n                    {description}\n                  </Typography>\n                  <Typography\n                    variant=\"body2\"\n                    color=\"textSecondary\"\n                    component=\"p\"\n                  >\n                    <br />\n                    Location: {location}\n                  </Typography>\n                </Grid>\n                <Grid item xs={12}>\n                  <Button\n                    onClick={checkAuth}\n                    className={classes.actionButton}\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    disabled={\n                      new Date().getTime() <\n                        new Date('30 January 2022').getTime() ||\n                      new Date().getTime() >=\n                        new Date('12 February 2022 00:00:00').getTime()\n                    }\n                  >\n                    Sign Up\n                  </Button>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12}></Grid>\n          </Grid>\n        </AccordionDetails>\n      </Accordion>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={snackbarOpen}\n        autoHideDuration={6000}\n        onClose={handleCloseSnackbar}\n        message={\n          'You have successfully signed up for the workshop! View your workshops at your profile page.'\n        }\n        action={\n          <React.Fragment>\n            <IconButton\n              size=\"small\"\n              aria-label=\"close\"\n              color=\"inherit\"\n              onClick={handleCloseSnackbar}\n            >\n              <CloseIcon fontSize=\"small\" />\n            </IconButton>\n          </React.Fragment>\n        }\n      />\n      {!auth && <UserLogin parentCallback={handleLoginClose} />}\n      {open && current_date <= { date } && (\n        <SignupPopup\n          //callback\n          workshop={workshop}\n          parentCallback={handleClose}\n        />\n      )}\n      {open && current_date > { date } && (\n        <WorkshopOverPopup\n          //callback\n          parentCallback={handleClose}\n        />\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}