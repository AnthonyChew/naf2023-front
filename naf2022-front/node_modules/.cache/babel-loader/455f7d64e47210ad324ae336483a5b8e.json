{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\src\\\\ShoppingCart\\\\CartCard.js\";\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Quantity from '../utils/Quantity';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close'; // import { useConfirm } from 'material-ui-confirm';\n\nimport ConfirmationDialog from '../Components/ConfirmationDialog';\nimport Typography from '@material-ui/core/Typography';\nimport { useDispatch } from 'react-redux';\nimport { removeProductFromCart, changeQtyInCart } from '../reducers/CartReducer';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '80%',\n    maxWidth: 900,\n    margin: 'auto',\n    border: '2px solid',\n    borderColor: '#b35699',\n    color: '#033F63',\n    backgroundColor: \"#F0F0F0\",\n    textAlign: 'right',\n    //align close button\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(3)\n  },\n  content: {\n    display: 'flex',\n    alignItems: 'center',\n    textAlign: 'center'\n  },\n  [theme.breakpoints.down('xs')]: {\n    content: {\n      flexDirection: 'column'\n    }\n  },\n  closeButton: {\n    padding: 0\n  },\n  cover: {\n    width: '30%',\n    maxWidth: 250,\n    width: '80%',\n    margin: 'auto'\n  },\n  details: {\n    padding: theme.spacing(2),\n    // flexDirection: 'column',\n    color: \"#033F63\",\n    gridRow: 2,\n    display: 'grid',\n    gridTemplateColumns: '1fr 1fr 1fr',\n    gridTemplateRows: 'repeat(5, auto)',\n    rowGap: '6px',\n    justifyItems: 'start'\n  },\n  pdtName: {\n    gridColumn: '1 / 4',\n    gridRow: 1\n  },\n  pdtOptionName: {\n    gridColumn: 1,\n    gridRow: 2\n  },\n  pdtOptionQty: {\n    gridColumn: 2,\n    gridRow: 2,\n    justifySelf: 'center'\n  },\n  pdtOptionPrice: {\n    gridColumn: 3,\n    gridRow: 2,\n    justifySelf: 'end'\n  },\n  pdtSize: {\n    gridColumn: '1 / 4',\n    gridRow: 3\n  },\n  pdtQty: {\n    gridColumn: '1 / 4',\n    gridRow: 4,\n    display: 'flex',\n    alignItems: 'center'\n  },\n  pdtSubtotal: {\n    gridColumn: 3,\n    gridRow: 5,\n    justifySelf: 'end',\n    borderTop: '1px solid',\n    paddingTop: '5px'\n  },\n  buttonStyling: {\n    paddingTop: 0,\n    paddingBottom: 0\n  },\n  [theme.breakpoints.down('sm')]: {\n    root: {\n      width: '100%'\n    }\n  }\n}));\nexport default function CartCard(props) {\n  const {\n    product\n  } = props; // console.log(product);\n\n  const {\n    _id,\n    quantity,\n    name,\n    size,\n    colour,\n    image,\n    price,\n    attribute1,\n    attribute2\n  } = product;\n  const stock = props.stock;\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [open, setOpen] = useState(false);\n  const [subTotal, setSubTotal] = useState('');\n  useEffect(() => {\n    const subTotal = (price * quantity).toFixed(2);\n    setSubTotal(subTotal);\n  }, [price, quantity]);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDialogResult = continueAction => {\n    setOpen(false);\n\n    if (continueAction) {\n      removeItem();\n    }\n  };\n\n  const setQuantity = type => {\n    if (type === 'DECREASE' && product.quantity === 1) {\n      handleClickOpen(); //open confirmation dialog\n    } else {\n      dispatch(changeQtyInCart(product, type, stock));\n    }\n  };\n\n  const removeItem = () => {\n    dispatch(removeProductFromCart(_id, size, colour));\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: classes.root,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"remove item from cart\",\n    className: classes.closeButton,\n    onClick: handleClickOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  })), open && /*#__PURE__*/React.createElement(ConfirmationDialog //callback\n  , {\n    title: \"Remove product from cart?\",\n    content: `Are you sure you want to remove \"${quantity}x ${name} ${attribute1.length !== 0 ? `with ${attribute1}: ${colour}` : ''}${attribute2.length !== 0 ? ` and ${attribute2}: ${size}` : ''}\" from your cart?`,\n    parentCallback: handleDialogResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardMedia, {\n    component: \"img\",\n    className: classes.cover,\n    alt: name,\n    src: image,\n    title: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(CardContent, {\n    className: classes.details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h5\",\n    component: \"h2\",\n    className: classes.pdtName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, name), colour && /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    component: \"p\",\n    className: classes.pdtOptionName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, attribute1, \": \", colour, \" ($\", Number.isInteger(price) ? price : price.toFixed(2), \")\"), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    component: \"p\",\n    className: classes.pdtOptionQty,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }, \"x\", quantity), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    component: \"p\",\n    className: classes.pdtOptionPrice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 11\n    }\n  }, \"$\", subTotal), size && /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    component: \"p\",\n    className: classes.pdtSize,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }, attribute2, \": \", size), /*#__PURE__*/React.createElement(Quantity, {\n    quantity: quantity,\n    changeRedux: type => setQuantity(type),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    className: classes.pdtSubtotal,\n    component: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }, \"Subtotal: $\", subTotal))));\n}","map":{"version":3,"sources":["C:/Users/antho/OneDrive/Desktop/naf2022-front/src/ShoppingCart/CartCard.js"],"names":["React","useState","useEffect","makeStyles","Card","Quantity","CardContent","CardMedia","IconButton","CloseIcon","ConfirmationDialog","Typography","useDispatch","removeProductFromCart","changeQtyInCart","useStyles","theme","root","width","maxWidth","margin","border","borderColor","color","backgroundColor","textAlign","padding","spacing","marginBottom","content","display","alignItems","breakpoints","down","flexDirection","closeButton","cover","details","gridRow","gridTemplateColumns","gridTemplateRows","rowGap","justifyItems","pdtName","gridColumn","pdtOptionName","pdtOptionQty","justifySelf","pdtOptionPrice","pdtSize","pdtQty","pdtSubtotal","borderTop","paddingTop","buttonStyling","paddingBottom","CartCard","props","product","_id","quantity","name","size","colour","image","price","attribute1","attribute2","stock","classes","dispatch","open","setOpen","subTotal","setSubTotal","toFixed","handleClickOpen","handleDialogResult","continueAction","removeItem","setQuantity","type","length","Number","isInteger"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,0BAAtB,C,CACA;;AACA,OAAOC,kBAAP,MAA+B,kCAA/B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SACEC,qBADF,EAEEC,eAFF,QAGO,yBAHP;AAKA,MAAMC,SAAS,GAAGZ,UAAU,CAAEa,KAAD,KAAY;AACvCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,KADH;AAEJC,IAAAA,QAAQ,EAAE,GAFN;AAGJC,IAAAA,MAAM,EAAE,MAHJ;AAIJC,IAAAA,MAAM,EAAE,WAJJ;AAKJC,IAAAA,WAAW,EAAE,SALT;AAMJC,IAAAA,KAAK,EAAE,SANH;AAOJC,IAAAA,eAAe,EAAE,SAPb;AAQJC,IAAAA,SAAS,EAAE,OARP;AAQgB;AACpBC,IAAAA,OAAO,EAAEV,KAAK,CAACW,OAAN,CAAc,CAAd,CATL;AAUJC,IAAAA,YAAY,EAAEZ,KAAK,CAACW,OAAN,CAAc,CAAd;AAVV,GADiC;AAavCE,EAAAA,OAAO,EAAE;AACPC,IAAAA,OAAO,EAAE,MADF;AAEPC,IAAAA,UAAU,EAAE,QAFL;AAGPN,IAAAA,SAAS,EAAE;AAHJ,GAb8B;AAkBvC,GAACT,KAAK,CAACgB,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAAD,GAAgC;AAC9BJ,IAAAA,OAAO,EAAE;AACPK,MAAAA,aAAa,EAAE;AADR;AADqB,GAlBO;AAuBvCC,EAAAA,WAAW,EAAE;AACXT,IAAAA,OAAO,EAAE;AADE,GAvB0B;AA0BvCU,EAAAA,KAAK,EAAE;AACLlB,IAAAA,KAAK,EAAE,KADF;AAELC,IAAAA,QAAQ,EAAE,GAFL;AAGLD,IAAAA,KAAK,EAAE,KAHF;AAILE,IAAAA,MAAM,EAAE;AAJH,GA1BgC;AAgCvCiB,EAAAA,OAAO,EAAE;AACPX,IAAAA,OAAO,EAAEV,KAAK,CAACW,OAAN,CAAc,CAAd,CADF;AAEP;AACAJ,IAAAA,KAAK,EAAE,SAHA;AAIPe,IAAAA,OAAO,EAAE,CAJF;AAKPR,IAAAA,OAAO,EAAE,MALF;AAMPS,IAAAA,mBAAmB,EAAE,aANd;AAOPC,IAAAA,gBAAgB,EAAE,iBAPX;AAQPC,IAAAA,MAAM,EAAE,KARD;AASPC,IAAAA,YAAY,EAAE;AATP,GAhC8B;AA2CvCC,EAAAA,OAAO,EAAE;AACPC,IAAAA,UAAU,EAAE,OADL;AAEPN,IAAAA,OAAO,EAAE;AAFF,GA3C8B;AA+CvCO,EAAAA,aAAa,EAAE;AACbD,IAAAA,UAAU,EAAE,CADC;AAEbN,IAAAA,OAAO,EAAE;AAFI,GA/CwB;AAmDvCQ,EAAAA,YAAY,EAAE;AACZF,IAAAA,UAAU,EAAE,CADA;AAEZN,IAAAA,OAAO,EAAE,CAFG;AAGZS,IAAAA,WAAW,EAAE;AAHD,GAnDyB;AAwDvCC,EAAAA,cAAc,EAAE;AACdJ,IAAAA,UAAU,EAAE,CADE;AAEdN,IAAAA,OAAO,EAAE,CAFK;AAGdS,IAAAA,WAAW,EAAE;AAHC,GAxDuB;AA6DvCE,EAAAA,OAAO,EAAE;AACPL,IAAAA,UAAU,EAAE,OADL;AAEPN,IAAAA,OAAO,EAAE;AAFF,GA7D8B;AAiEvCY,EAAAA,MAAM,EAAE;AACNN,IAAAA,UAAU,EAAE,OADN;AAENN,IAAAA,OAAO,EAAE,CAFH;AAGNR,IAAAA,OAAO,EAAE,MAHH;AAINC,IAAAA,UAAU,EAAE;AAJN,GAjE+B;AAuEvCoB,EAAAA,WAAW,EAAE;AACXP,IAAAA,UAAU,EAAE,CADD;AAEXN,IAAAA,OAAO,EAAE,CAFE;AAGXS,IAAAA,WAAW,EAAE,KAHF;AAIXK,IAAAA,SAAS,EAAE,WAJA;AAKXC,IAAAA,UAAU,EAAE;AALD,GAvE0B;AA8EvCC,EAAAA,aAAa,EAAE;AACbD,IAAAA,UAAU,EAAE,CADC;AAEbE,IAAAA,aAAa,EAAE;AAFF,GA9EwB;AAkFvC,GAACvC,KAAK,CAACgB,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAAD,GAAgC;AAC9BhB,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE;AADH;AADwB;AAlFO,CAAZ,CAAD,CAA5B;AAyFA,eAAe,SAASsC,QAAT,CAAkBC,KAAlB,EAAyB;AACtC,QAAM;AAAEC,IAAAA;AAAF,MAAcD,KAApB,CADsC,CAEtC;;AACA,QAAM;AACJE,IAAAA,GADI;AAEJC,IAAAA,QAFI;AAGJC,IAAAA,IAHI;AAIJC,IAAAA,IAJI;AAKJC,IAAAA,MALI;AAMJC,IAAAA,KANI;AAOJC,IAAAA,KAPI;AAQJC,IAAAA,UARI;AASJC,IAAAA;AATI,MAUFT,OAVJ;AAWA,QAAMU,KAAK,GAAGX,KAAK,CAACW,KAApB;AACA,QAAMC,OAAO,GAAGtD,SAAS,EAAzB;AACA,QAAMuD,QAAQ,GAAG1D,WAAW,EAA5B;AAEA,QAAM,CAAC2D,IAAD,EAAOC,OAAP,IAAkBvE,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACwE,QAAD,EAAWC,WAAX,IAA0BzE,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMuE,QAAQ,GAAG,CAACR,KAAK,GAAGL,QAAT,EAAmBe,OAAnB,CAA2B,CAA3B,CAAjB;AACAD,IAAAA,WAAW,CAACD,QAAD,CAAX;AACD,GAHQ,EAGN,CAACR,KAAD,EAAQL,QAAR,CAHM,CAAT;;AAKA,QAAMgB,eAAe,GAAG,MAAM;AAC5BJ,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAFD;;AAGA,QAAMK,kBAAkB,GAAIC,cAAD,IAAoB;AAC7CN,IAAAA,OAAO,CAAC,KAAD,CAAP;;AACA,QAAIM,cAAJ,EAAoB;AAClBC,MAAAA,UAAU;AACX;AACF,GALD;;AAOA,QAAMC,WAAW,GAAIC,IAAD,IAAU;AAC5B,QAAIA,IAAI,KAAK,UAAT,IAAuBvB,OAAO,CAACE,QAAR,KAAqB,CAAhD,EAAmD;AACjDgB,MAAAA,eAAe,GADkC,CAC9B;AACpB,KAFD,MAEO;AACLN,MAAAA,QAAQ,CAACxD,eAAe,CAAC4C,OAAD,EAAUuB,IAAV,EAAgBb,KAAhB,CAAhB,CAAR;AACD;AACF,GAND;;AAQA,QAAMW,UAAU,GAAG,MAAM;AACvBT,IAAAA,QAAQ,CAACzD,qBAAqB,CAAC8C,GAAD,EAAMG,IAAN,EAAYC,MAAZ,CAAtB,CAAR;AACD,GAFD;;AAIA,sBACE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAEM,OAAO,CAACpD,IAAzB;AAA+B,IAAA,OAAO,EAAC,UAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,kBAAW,uBADb;AAEE,IAAA,SAAS,EAAEoD,OAAO,CAAClC,WAFrB;AAGE,IAAA,OAAO,EAAEyC,eAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADF,EAQGL,IAAI,iBACH,oBAAC,kBAAD,CACE;AADF;AAEE,IAAA,KAAK,EAAC,2BAFR;AAGE,IAAA,OAAO,EAAG,oCAAmCX,QAAS,KAAIC,IAAK,IAC7DK,UAAU,CAACgB,MAAX,KAAsB,CAAtB,GAA2B,QAAOhB,UAAW,KAAIH,MAAO,EAAxD,GAA4D,EAC7D,GACCI,UAAU,CAACe,MAAX,KAAsB,CAAtB,GAA2B,QAAOf,UAAW,KAAIL,IAAK,EAAtD,GAA0D,EAC3D,mBAPH;AAQE,IAAA,cAAc,EAAEe,kBARlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,eAoBE;AAAK,IAAA,SAAS,EAAER,OAAO,CAACxC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,SAAS,EAAC,KADZ;AAEE,IAAA,SAAS,EAAEwC,OAAO,CAACjC,KAFrB;AAGE,IAAA,GAAG,EAAEyB,IAHP;AAIE,IAAA,GAAG,EAAEG,KAJP;AAKE,IAAA,KAAK,EAAEH,IALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAEQ,OAAO,CAAChC,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,IAAA,YAAY,MADd;AAEE,IAAA,OAAO,EAAC,IAFV;AAGE,IAAA,SAAS,EAAC,IAHZ;AAIE,IAAA,SAAS,EAAEgC,OAAO,CAAC1B,OAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGkB,IANH,CADF,EAUGE,MAAM,iBACL,oBAAC,UAAD;AACE,IAAA,OAAO,EAAC,OADV;AAEE,IAAA,SAAS,EAAC,GAFZ;AAGE,IAAA,SAAS,EAAEM,OAAO,CAACxB,aAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKGqB,UALH,QAKiBH,MALjB,SAMGoB,MAAM,CAACC,SAAP,CAAiBnB,KAAjB,IAA0BA,KAA1B,GAAkCA,KAAK,CAACU,OAAN,CAAc,CAAd,CANrC,MAXJ,eAoBE,oBAAC,UAAD;AACE,IAAA,OAAO,EAAC,OADV;AAEE,IAAA,SAAS,EAAC,GAFZ;AAGE,IAAA,SAAS,EAAEN,OAAO,CAACvB,YAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAKIc,QALJ,CApBF,eA2BE,oBAAC,UAAD;AACE,IAAA,OAAO,EAAC,OADV;AAEE,IAAA,SAAS,EAAC,GAFZ;AAGE,IAAA,SAAS,EAAES,OAAO,CAACrB,cAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAKIyB,QALJ,CA3BF,EAkCGX,IAAI,iBACH,oBAAC,UAAD;AACE,IAAA,OAAO,EAAC,OADV;AAEE,IAAA,SAAS,EAAC,GAFZ;AAGE,IAAA,SAAS,EAAEO,OAAO,CAACpB,OAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKGkB,UALH,QAKiBL,IALjB,CAnCJ,eA2CE,oBAAC,QAAD;AACE,IAAA,QAAQ,EAAEF,QADZ;AAEE,IAAA,WAAW,EAAGqB,IAAD,IAAUD,WAAW,CAACC,IAAD,CAFpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3CF,eAgDE,oBAAC,UAAD;AACE,IAAA,OAAO,EAAC,OADV;AAEE,IAAA,SAAS,EAAEZ,OAAO,CAAClB,WAFrB;AAGE,IAAA,SAAS,EAAC,IAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKcsB,QALd,CAhDF,CARF,CApBF,CADF;AAwFD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Quantity from '../utils/Quantity';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n// import { useConfirm } from 'material-ui-confirm';\nimport ConfirmationDialog from '../Components/ConfirmationDialog';\nimport Typography from '@material-ui/core/Typography';\nimport { useDispatch } from 'react-redux';\nimport {\n  removeProductFromCart,\n  changeQtyInCart,\n} from '../reducers/CartReducer';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '80%',\n    maxWidth: 900,\n    margin: 'auto',\n    border: '2px solid',\n    borderColor: '#b35699',\n    color: '#033F63',\n    backgroundColor: \"#F0F0F0\",\n    textAlign: 'right', //align close button\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(3),\n  },\n  content: {\n    display: 'flex',\n    alignItems: 'center',\n    textAlign: 'center',\n  },\n  [theme.breakpoints.down('xs')]: {\n    content: {\n      flexDirection: 'column',\n    },\n  },\n  closeButton: {\n    padding: 0,\n  },\n  cover: {\n    width: '30%',\n    maxWidth: 250,\n    width: '80%',\n    margin: 'auto',\n  },\n  details: {\n    padding: theme.spacing(2),\n    // flexDirection: 'column',\n    color: \"#033F63\",\n    gridRow: 2,\n    display: 'grid',\n    gridTemplateColumns: '1fr 1fr 1fr',\n    gridTemplateRows: 'repeat(5, auto)',\n    rowGap: '6px',\n    justifyItems: 'start',\n  },\n  pdtName: {\n    gridColumn: '1 / 4',\n    gridRow: 1,\n  },\n  pdtOptionName: {\n    gridColumn: 1,\n    gridRow: 2,\n  },\n  pdtOptionQty: {\n    gridColumn: 2,\n    gridRow: 2,\n    justifySelf: 'center',\n  },\n  pdtOptionPrice: {\n    gridColumn: 3,\n    gridRow: 2,\n    justifySelf: 'end',\n  },\n  pdtSize: {\n    gridColumn: '1 / 4',\n    gridRow: 3,\n  },\n  pdtQty: {\n    gridColumn: '1 / 4',\n    gridRow: 4,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  pdtSubtotal: {\n    gridColumn: 3,\n    gridRow: 5,\n    justifySelf: 'end',\n    borderTop: '1px solid',\n    paddingTop: '5px',\n  },\n  buttonStyling: {\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  [theme.breakpoints.down('sm')]: {\n    root: {\n      width: '100%',\n    },\n  },\n}));\n\nexport default function CartCard(props) {\n  const { product } = props;\n  // console.log(product);\n  const {\n    _id,\n    quantity,\n    name,\n    size,\n    colour,\n    image,\n    price,\n    attribute1,\n    attribute2,\n  } = product;\n  const stock = props.stock;\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const [open, setOpen] = useState(false);\n  const [subTotal, setSubTotal] = useState('');\n\n  useEffect(() => {\n    const subTotal = (price * quantity).toFixed(2);\n    setSubTotal(subTotal);\n  }, [price, quantity]);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleDialogResult = (continueAction) => {\n    setOpen(false);\n    if (continueAction) {\n      removeItem();\n    }\n  };\n\n  const setQuantity = (type) => {\n    if (type === 'DECREASE' && product.quantity === 1) {\n      handleClickOpen(); //open confirmation dialog\n    } else {\n      dispatch(changeQtyInCart(product, type, stock));\n    }\n  };\n\n  const removeItem = () => {\n    dispatch(removeProductFromCart(_id, size, colour));\n  };\n\n  return (\n    <Card className={classes.root} variant=\"outlined\">\n      <IconButton\n        aria-label=\"remove item from cart\"\n        className={classes.closeButton}\n        onClick={handleClickOpen}\n      >\n        <CloseIcon />\n      </IconButton>\n      {open && (\n        <ConfirmationDialog\n          //callback\n          title=\"Remove product from cart?\"\n          content={`Are you sure you want to remove \"${quantity}x ${name} ${\n            attribute1.length !== 0 ? `with ${attribute1}: ${colour}` : ''\n          }${\n            attribute2.length !== 0 ? ` and ${attribute2}: ${size}` : ''\n          }\" from your cart?`}\n          parentCallback={handleDialogResult}\n        />\n      )}\n      <div className={classes.content}>\n        <CardMedia\n          component=\"img\"\n          className={classes.cover}\n          alt={name}\n          src={image}\n          title={name}\n        />\n        <CardContent className={classes.details}>\n          <Typography\n            gutterBottom\n            variant=\"h5\"\n            component=\"h2\"\n            className={classes.pdtName}\n          >\n            {name}\n          </Typography>\n\n          {colour && (\n            <Typography\n              variant=\"body2\"\n              component=\"p\"\n              className={classes.pdtOptionName}\n            >\n              {attribute1}: {colour} ($\n              {Number.isInteger(price) ? price : price.toFixed(2)})\n            </Typography>\n          )}\n          <Typography\n            variant=\"body2\"\n            component=\"p\"\n            className={classes.pdtOptionQty}\n          >\n            x{quantity}\n          </Typography>\n          <Typography\n            variant=\"body2\"\n            component=\"p\"\n            className={classes.pdtOptionPrice}\n          >\n            ${subTotal}\n          </Typography>\n          {size && (\n            <Typography\n              variant=\"body2\"\n              component=\"p\"\n              className={classes.pdtSize}\n            >\n              {attribute2}: {size}\n            </Typography>\n          )}\n          <Quantity\n            quantity={quantity}\n            changeRedux={(type) => setQuantity(type)}\n          />\n\n          <Typography\n            variant=\"body2\"\n            className={classes.pdtSubtotal}\n            component=\"h5\"\n          >\n            Subtotal: ${subTotal}\n          </Typography>\n        </CardContent>\n      </div>\n    </Card>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}