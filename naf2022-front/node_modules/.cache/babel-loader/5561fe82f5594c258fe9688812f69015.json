{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{makeStyles}from'@material-ui/core/styles';import React,{useState,useEffect}from'react';import MarketPlaceHeader from'./MarketPlaceHeader';import ProductListings from'./ProductListings';import VendorCard from'./VendorCard';import SearchBar from'./SearchBar';import Filter from'./Filter';import productService from'../services/products';import vendorService from'../services/vendors';import{ReactComponent as BackgroundSVGTop}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/Vector (33).svg\";import{ReactComponent as BackgroundSVGBot}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/Rectangle 101.svg\";import{ReactComponent as TopRightSmallStar}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/TopRightSmallStar.svg\";import{ReactComponent as TopLeftStar}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/TopLeftStar.svg\";import{ReactComponent as Ring}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/Ring.svg\";import{ReactComponent as BigCircle}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/BigCircle.svg\";import{ReactComponent as SmallCircle}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/SmallCircle.svg\";import{ReactComponent as BigStarMid}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/BigStarMid.svg\";import{ReactComponent as StarMid}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/StarMid.svg\";import{ReactComponent as StarMidSmall}from\"@svgr/webpack?-svgo,+titleProp,+ref!./2022SVG/StarMidSmall.svg\";import Typography from'@material-ui/core/Typography';import{trackPromise}from'react-promise-tracker';import{LoadingSpinnerComponent}from'../utils/LoadingSpinnerComponent';import{Alert,AlertTitle}from'@material-ui/lab';// create animations https://www.youtube.com/watch?v=JcHLxzrsRS4\nvar useStyles=makeStyles(function(theme){return{root:{// width: '90%',\nmargin:'auto',// maxWidth: '1500px',\nposition:'relative'},paddedItem:{padding:theme.spacing(3)},vendorView:{position:'relative'},vendorCards:{textAlign:'center'},productView:{position:'relative'}};});function compare(sortType,a,b){//console.log(sortType, a, b);\n// sort by Alphabetical order\nif(sortType==='A-Z'){//console.log(\"A-Z\");\nif(a.name.toLowerCase()<b.name.toLowerCase()){return-1;}if(a.name.toLowerCase()>b.name.toLowerCase()){return 1;}}else if(sortType==='Z-A'){//console.log(\"Z-A\");\nif(a.name.toLowerCase()<b.name.toLowerCase()){return 1;}if(a.name.toLowerCase()>b.name.toLowerCase()){return-1;}}// sort by Recency\nelse if(sortType==='Most to least recent'){//console.log(\"Most to least recent\");\n//most recent first\nif(a.date_uploaded>b.date_uploaded){return-1;}if(a.date_uploaded<b.date_uploaded){return 1;}}else if(sortType==='Least to most recent'){//console.log(\"Least to most recent\");\n//least recent first\nif(a.date_uploaded>b.date_uploaded){return 1;}if(a.date_uploaded<b.date_uploaded){return-1;}}// sort by Price\nelse if(sortType==='Price low to high'){//console.log(\"Price low to high\");\nif(a.price<b.price){return-1;}if(a.price>b.price){return 1;}}else if(sortType==='Price high to low'){//console.log(\"Price high to low\");\nif(a.price<b.price){return 1;}if(a.price>b.price){return-1;}}// a must be equal to b\nreturn 0;}function MarketPlace(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),vendors=_useState4[0],setVendors=_useState4[1];var featuredVendors=['NAFOfficial'];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return trackPromise(productService.getAllProducts());case 2:res=_context.sent;if(res.status===200){setProducts(res.data);}// }else {\n//   alert('Error loading products :(');\n// }\n_context.next=6;return trackPromise(vendorService.getAllVendors());case 6:res=_context.sent;if(res.status===200){setVendors(res.data);}//  else {\n//   alert('Error loading vendors :(');\n// }\n// setLoading(false);\ncase 8:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);var classes=useStyles();var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filter=_useState6[0],setFilter=_useState6[1];// array of filters chosen\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),sort=_useState8[0],setSort=_useState8[1];//\"A-Z, Recency, Popularity\"\nvar _useState9=useState('products'),_useState10=_slicedToArray(_useState9,2),view=_useState10[0],setView=_useState10[1];// \"products\", \"vendors\"\nfunction setFilterViews(settingsData){setFilter(settingsData[0]);setSort(settingsData[1]);setView(settingsData[2]);}function getFeaturedProducts(){var featuredProducts=[];var _loop=function _loop(i){var filteredProducts=products.filter(function(pdt){return pdt.vendorName===featuredVendors[i];});if(filteredProducts.length>0){featuredProducts=featuredProducts.concat(filteredProducts);}};for(var i=0;i<featuredVendors.length;i++){_loop(i);}return featuredProducts;}function getProducts(){var orderedProducts;if(filter.length!==0){orderedProducts=products.filter(function(product){return filter.includes(product.category);});}else{orderedProducts=products;}//filter out featured products\nvar _loop2=function _loop2(i){orderedProducts=orderedProducts.filter(function(pdt){return pdt.vendorName!==featuredVendors[i];});};for(var i=0;i<featuredVendors.length;i++){_loop2(i);}if(sort===false){return orderedProducts;}else{return orderedProducts.sort(function(a,b){return compare(sort,a,b);});}}return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(Alert,{variant:\"filled\",severity:\"info\"},/*#__PURE__*/React.createElement(AlertTitle,null,/*#__PURE__*/React.createElement(\"strong\",null,\"Official Merchandise on Sale through 08 March\")),\"Surge Marketplace is now closed as of 24 February 2022, 0000.\",/*#__PURE__*/React.createElement(\"br\",null),\"However, the sale of NAF Merchandise has been extended to 8 March 2022, please use the \\\"NAF Merch\\\" filter option to view all NAF Official Merchandise.\"),/*#__PURE__*/React.createElement(MarketPlaceHeader,{view:view}),view!=='vendors'&&/*#__PURE__*/React.createElement(SearchBar,{searchCallback:function searchCallback(products){return setProducts(products);}}),/*#__PURE__*/React.createElement(Filter,{isVendorLogin:false,parentCallback:setFilterViews}),/*#__PURE__*/React.createElement(LoadingSpinnerComponent,null),view==='vendors'?/*#__PURE__*/React.createElement(\"div\",{className:classes.vendorView},/*#__PURE__*/React.createElement(\"div\",{className:classes.vendorCards},vendors&&vendors.map(function(vendor){return/*#__PURE__*/React.createElement(VendorCard,{key:vendor._id,vendor:vendor});}))):/*#__PURE__*/React.createElement(\"div\",{className:classes.productView},/*#__PURE__*/React.createElement(BackgroundSVGTop,{style:{zIndex:-1,position:'absolute',left:'0px',top:'-100px'}}),/*#__PURE__*/React.createElement(BackgroundSVGBot,{style:{zIndex:-1,position:'absolute',left:'0px',top:'400px'}}),/*#__PURE__*/React.createElement(TopLeftStar,{style:{zIndex:0,position:'absolute',left:'0px',top:'100px'}}),/*#__PURE__*/React.createElement(Ring,{style:{zIndex:0,position:'absolute',left:'0px',top:'160px'}}),/*#__PURE__*/React.createElement(BigCircle,{style:{zIndex:0,position:'absolute',left:'130px',top:'320px'}}),/*#__PURE__*/React.createElement(SmallCircle,{style:{zIndex:0,position:'absolute',left:'120px',top:'440px'}}),/*#__PURE__*/React.createElement(SmallCircle,{style:{zIndex:0,position:'absolute',left:'80px',top:'580px'}}),/*#__PURE__*/React.createElement(SmallCircle,{style:{zIndex:0,position:'absolute',right:'80px',top:'790px'}}),/*#__PURE__*/React.createElement(SmallCircle,{style:{zIndex:0,position:'absolute',right:'30px',top:'910px'}}),/*#__PURE__*/React.createElement(BigCircle,{style:{zIndex:0,position:'absolute',right:'55px',top:'970px'}}),/*#__PURE__*/React.createElement(BigStarMid,{style:{zIndex:0,position:'absolute',right:'0px',top:'910px'}}),/*#__PURE__*/React.createElement(StarMid,{style:{zIndex:0,position:'absolute',right:'20px',top:'1900px'}}),/*#__PURE__*/React.createElement(StarMidSmall,{style:{zIndex:0,position:'absolute',right:'90px',top:'2050px'}}),/*#__PURE__*/React.createElement(TopLeftStar,{style:{zIndex:0,position:'absolute',left:'0px',top:'2020px'}}),/*#__PURE__*/React.createElement(Ring,{style:{zIndex:0,position:'absolute',left:'0px',top:'2080px'}}),/*#__PURE__*/React.createElement(BigCircle,{style:{zIndex:0,position:'absolute',left:'130px',top:'2240px'}}),/*#__PURE__*/React.createElement(SmallCircle,{style:{zIndex:0,position:'absolute',left:'120px',top:'2360px'}}),/*#__PURE__*/React.createElement(SmallCircle,{style:{zIndex:0,position:'absolute',left:'80px',top:'2500px'}}),/*#__PURE__*/React.createElement(SmallCircle,{style:{zIndex:0,position:'absolute',right:'80px',top:'2710px'}}),/*#__PURE__*/React.createElement(SmallCircle,{style:{zIndex:0,position:'absolute',right:'30px',top:'2830px'}}),/*#__PURE__*/React.createElement(BigCircle,{style:{zIndex:0,position:'absolute',right:'55px',top:'2890px'}}),/*#__PURE__*/React.createElement(BigStarMid,{style:{zIndex:0,position:'absolute',right:'0px',top:'2830px'}}),/*#__PURE__*/React.createElement(ProductListings,{products:getProducts(),featured:getFeaturedProducts()})));}export default MarketPlace;","map":{"version":3,"sources":["C:/Users/antho/OneDrive/Desktop/naf2022-front/src/MarketPlacePage/MarketPlace.js"],"names":["makeStyles","React","useState","useEffect","MarketPlaceHeader","ProductListings","VendorCard","SearchBar","Filter","productService","vendorService","Typography","trackPromise","LoadingSpinnerComponent","Alert","AlertTitle","useStyles","theme","root","margin","position","paddedItem","padding","spacing","vendorView","vendorCards","textAlign","productView","compare","sortType","a","b","name","toLowerCase","date_uploaded","price","MarketPlace","products","setProducts","vendors","setVendors","featuredVendors","fetchData","getAllProducts","res","status","data","getAllVendors","classes","filter","setFilter","sort","setSort","view","setView","setFilterViews","settingsData","getFeaturedProducts","featuredProducts","i","filteredProducts","pdt","vendorName","length","concat","getProducts","orderedProducts","product","includes","category","map","vendor","_id","zIndex","left","top","right"],"mappings":"ugBAAA,OAASA,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,cAAP,KAA2B,sBAA3B,CACA,MAAOC,CAAAA,aAAP,KAA0B,qBAA1B,C,whCAWA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,OAASC,YAAT,KAA6B,uBAA7B,CACA,OAASC,uBAAT,KAAwC,kCAAxC,CACA,OAASC,KAAT,CAAgBC,UAAhB,KAAkC,kBAAlC,CAEA;AACA,GAAMC,CAAAA,SAAS,CAAGhB,UAAU,CAAC,SAACiB,KAAD,QAAY,CACvCC,IAAI,CAAE,CACJ;AACAC,MAAM,CAAE,MAFJ,CAGJ;AACAC,QAAQ,CAAE,UAJN,CADiC,CAOvCC,UAAU,CAAE,CACVC,OAAO,CAAEL,KAAK,CAACM,OAAN,CAAc,CAAd,CADC,CAP2B,CAUvCC,UAAU,CAAE,CACVJ,QAAQ,CAAE,UADA,CAV2B,CAavCK,WAAW,CAAE,CACXC,SAAS,CAAE,QADA,CAb0B,CAgBvCC,WAAW,CAAE,CACXP,QAAQ,CAAE,UADC,CAhB0B,CAAZ,EAAD,CAA5B,CAqBA,QAASQ,CAAAA,OAAT,CAAiBC,QAAjB,CAA2BC,CAA3B,CAA8BC,CAA9B,CAAiC,CAC/B;AACA;AACA,GAAIF,QAAQ,GAAK,KAAjB,CAAwB,CACtB;AACA,GAAIC,CAAC,CAACE,IAAF,CAAOC,WAAP,GAAuBF,CAAC,CAACC,IAAF,CAAOC,WAAP,EAA3B,CAAiD,CAC/C,MAAO,CAAC,CAAR,CACD,CACD,GAAIH,CAAC,CAACE,IAAF,CAAOC,WAAP,GAAuBF,CAAC,CAACC,IAAF,CAAOC,WAAP,EAA3B,CAAiD,CAC/C,MAAO,EAAP,CACD,CACF,CARD,IAQO,IAAIJ,QAAQ,GAAK,KAAjB,CAAwB,CAC7B;AACA,GAAIC,CAAC,CAACE,IAAF,CAAOC,WAAP,GAAuBF,CAAC,CAACC,IAAF,CAAOC,WAAP,EAA3B,CAAiD,CAC/C,MAAO,EAAP,CACD,CACD,GAAIH,CAAC,CAACE,IAAF,CAAOC,WAAP,GAAuBF,CAAC,CAACC,IAAF,CAAOC,WAAP,EAA3B,CAAiD,CAC/C,MAAO,CAAC,CAAR,CACD,CACF,CACD;AATO,IAUF,IAAIJ,QAAQ,GAAK,sBAAjB,CAAyC,CAC5C;AACA;AACA,GAAIC,CAAC,CAACI,aAAF,CAAkBH,CAAC,CAACG,aAAxB,CAAuC,CACrC,MAAO,CAAC,CAAR,CACD,CACD,GAAIJ,CAAC,CAACI,aAAF,CAAkBH,CAAC,CAACG,aAAxB,CAAuC,CACrC,MAAO,EAAP,CACD,CACF,CATI,IASE,IAAIL,QAAQ,GAAK,sBAAjB,CAAyC,CAC9C;AACA;AACA,GAAIC,CAAC,CAACI,aAAF,CAAkBH,CAAC,CAACG,aAAxB,CAAuC,CACrC,MAAO,EAAP,CACD,CACD,GAAIJ,CAAC,CAACI,aAAF,CAAkBH,CAAC,CAACG,aAAxB,CAAuC,CACrC,MAAO,CAAC,CAAR,CACD,CACF,CACD;AAVO,IAWF,IAAIL,QAAQ,GAAK,mBAAjB,CAAsC,CACzC;AACA,GAAIC,CAAC,CAACK,KAAF,CAAUJ,CAAC,CAACI,KAAhB,CAAuB,CACrB,MAAO,CAAC,CAAR,CACD,CACD,GAAIL,CAAC,CAACK,KAAF,CAAUJ,CAAC,CAACI,KAAhB,CAAuB,CACrB,MAAO,EAAP,CACD,CACF,CARI,IAQE,IAAIN,QAAQ,GAAK,mBAAjB,CAAsC,CAC3C;AACA,GAAIC,CAAC,CAACK,KAAF,CAAUJ,CAAC,CAACI,KAAhB,CAAuB,CACrB,MAAO,EAAP,CACD,CACD,GAAIL,CAAC,CAACK,KAAF,CAAUJ,CAAC,CAACI,KAAhB,CAAuB,CACrB,MAAO,CAAC,CAAR,CACD,CACF,CAED;AACA,MAAO,EAAP,CACD,CAED,QAASC,CAAAA,WAAT,EAAuB,eACWlC,QAAQ,CAAC,EAAD,CADnB,wCACdmC,QADc,eACJC,WADI,8BAESpC,QAAQ,CAAC,EAAD,CAFjB,yCAEdqC,OAFc,eAELC,UAFK,eAGrB,GAAMC,CAAAA,eAAe,CAAG,CAAC,aAAD,CAAxB,CAEAtC,SAAS,CAAC,UAAM,SACCuC,CAAAA,SADD,qIACd,iKAEc9B,CAAAA,YAAY,CAACH,cAAc,CAACkC,cAAf,EAAD,CAF1B,QAEEC,GAFF,eAGE,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACtBP,WAAW,CAACM,GAAG,CAACE,IAAL,CAAX,CACD,CACD;AACA;AACA;AARF,sBASclC,CAAAA,YAAY,CAACF,aAAa,CAACqC,aAAd,EAAD,CAT1B,QASEH,GATF,eAUE,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,CACtBL,UAAU,CAACI,GAAG,CAACE,IAAL,CAAV,CACD,CACD;AACA;AACA;AACA;AAhBF,sDADc,4CAmBdJ,SAAS,GACV,CApBQ,CAoBN,EApBM,CAAT,CAsBA,GAAMM,CAAAA,OAAO,CAAGhC,SAAS,EAAzB,CA3BqB,eA6BOd,QAAQ,CAAC,EAAD,CA7Bf,yCA6Bd+C,MA7Bc,eA6BNC,SA7BM,eA6BqB;AA7BrB,eA8BGhD,QAAQ,CAAC,KAAD,CA9BX,yCA8BdiD,IA9Bc,eA8BRC,OA9BQ,eA8BoB;AA9BpB,eA+BGlD,QAAQ,CAAC,UAAD,CA/BX,0CA+BdmD,IA/Bc,gBA+BRC,OA/BQ,gBA+ByB;AAE9C,QAASC,CAAAA,cAAT,CAAwBC,YAAxB,CAAsC,CACpCN,SAAS,CAACM,YAAY,CAAC,CAAD,CAAb,CAAT,CACAJ,OAAO,CAACI,YAAY,CAAC,CAAD,CAAb,CAAP,CACAF,OAAO,CAACE,YAAY,CAAC,CAAD,CAAb,CAAP,CACD,CAED,QAASC,CAAAA,mBAAT,EAA+B,CAC7B,GAAIC,CAAAA,gBAAgB,CAAG,EAAvB,CAD6B,yBAEpBC,CAFoB,EAG3B,GAAIC,CAAAA,gBAAgB,CAAGvB,QAAQ,CAACY,MAAT,CACrB,SAACY,GAAD,QAASA,CAAAA,GAAG,CAACC,UAAJ,GAAmBrB,eAAe,CAACkB,CAAD,CAA3C,EADqB,CAAvB,CAGA,GAAIC,gBAAgB,CAACG,MAAjB,CAA0B,CAA9B,CAAiC,CAC/BL,gBAAgB,CAAGA,gBAAgB,CAACM,MAAjB,CAAwBJ,gBAAxB,CAAnB,CACD,CAR0B,EAE7B,IAAK,GAAID,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGlB,eAAe,CAACsB,MAApC,CAA4CJ,CAAC,EAA7C,CAAiD,OAAxCA,CAAwC,EAOhD,CACD,MAAOD,CAAAA,gBAAP,CACD,CAED,QAASO,CAAAA,WAAT,EAAuB,CACrB,GAAIC,CAAAA,eAAJ,CACA,GAAIjB,MAAM,CAACc,MAAP,GAAkB,CAAtB,CAAyB,CACvBG,eAAe,CAAG7B,QAAQ,CAACY,MAAT,CAAgB,SAACkB,OAAD,QAChClB,CAAAA,MAAM,CAACmB,QAAP,CAAgBD,OAAO,CAACE,QAAxB,CADgC,EAAhB,CAAlB,CAGD,CAJD,IAIO,CACLH,eAAe,CAAG7B,QAAlB,CACD,CAED;AAVqB,2BAWZsB,CAXY,EAYnBO,eAAe,CAAGA,eAAe,CAACjB,MAAhB,CAChB,SAACY,GAAD,QAASA,CAAAA,GAAG,CAACC,UAAJ,GAAmBrB,eAAe,CAACkB,CAAD,CAA3C,EADgB,CAAlB,CAZmB,EAWrB,IAAK,GAAIA,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGlB,eAAe,CAACsB,MAApC,CAA4CJ,CAAC,EAA7C,CAAiD,QAAxCA,CAAwC,EAIhD,CAED,GAAIR,IAAI,GAAK,KAAb,CAAoB,CAClB,MAAOe,CAAAA,eAAP,CACD,CAFD,IAEO,CACL,MAAOA,CAAAA,eAAe,CAACf,IAAhB,CAAqB,SAACrB,CAAD,CAAIC,CAAJ,QAAUH,CAAAA,OAAO,CAACuB,IAAD,CAAOrB,CAAP,CAAUC,CAAV,CAAjB,EAArB,CAAP,CACD,CACF,CAED,mBACE,2BAAK,SAAS,CAAEiB,OAAO,CAAC9B,IAAxB,eACE,oBAAC,KAAD,EAAO,OAAO,CAAC,QAAf,CAAwB,QAAQ,CAAC,MAAjC,eACE,oBAAC,UAAD,mBACE,kFADF,CADF,8EAKE,8BALF,4JADF,cAWE,oBAAC,iBAAD,EAAmB,IAAI,CAAEmC,IAAzB,EAXF,CAYGA,IAAI,GAAK,SAAT,eACC,oBAAC,SAAD,EAAW,cAAc,CAAE,wBAAChB,QAAD,QAAcC,CAAAA,WAAW,CAACD,QAAD,CAAzB,EAA3B,EAbJ,cAeE,oBAAC,MAAD,EAAQ,aAAa,CAAE,KAAvB,CAA8B,cAAc,CAAEkB,cAA9C,EAfF,cAiBE,oBAAC,uBAAD,MAjBF,CAkBGF,IAAI,GAAK,SAAT,cACC,2BAAK,SAAS,CAAEL,OAAO,CAACxB,UAAxB,eACE,2BAAK,SAAS,CAAEwB,OAAO,CAACvB,WAAxB,EACGc,OAAO,EACNA,OAAO,CAAC+B,GAAR,CAAY,SAACC,MAAD,qBACV,oBAAC,UAAD,EAAY,GAAG,CAAEA,MAAM,CAACC,GAAxB,CAA6B,MAAM,CAAED,MAArC,EADU,EAAZ,CAFJ,CADF,CADD,cAUC,2BAAK,SAAS,CAAEvB,OAAO,CAACrB,WAAxB,eACE,oBAAC,gBAAD,EACE,KAAK,CAAE,CACL8C,MAAM,CAAE,CAAC,CADJ,CAELrD,QAAQ,CAAE,UAFL,CAGLsD,IAAI,CAAE,KAHD,CAILC,GAAG,CAAE,QAJA,CADT,EADF,cASE,oBAAC,gBAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CAAC,CADJ,CAELrD,QAAQ,CAAE,UAFL,CAGLsD,IAAI,CAAE,KAHD,CAILC,GAAG,CAAE,OAJA,CADT,EATF,cAiBE,oBAAC,WAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLsD,IAAI,CAAE,KAHD,CAILC,GAAG,CAAE,OAJA,CADT,EAjBF,cAyBE,oBAAC,IAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLsD,IAAI,CAAE,KAHD,CAILC,GAAG,CAAE,OAJA,CADT,EAzBF,cAiCE,oBAAC,SAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLsD,IAAI,CAAE,OAHD,CAILC,GAAG,CAAE,OAJA,CADT,EAjCF,cAyCE,oBAAC,WAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLsD,IAAI,CAAE,OAHD,CAILC,GAAG,CAAE,OAJA,CADT,EAzCF,cAiDE,oBAAC,WAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLsD,IAAI,CAAE,MAHD,CAILC,GAAG,CAAE,OAJA,CADT,EAjDF,cAyDE,oBAAC,WAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLwD,KAAK,CAAE,MAHF,CAILD,GAAG,CAAE,OAJA,CADT,EAzDF,cAiEE,oBAAC,WAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLwD,KAAK,CAAE,MAHF,CAILD,GAAG,CAAE,OAJA,CADT,EAjEF,cAyEE,oBAAC,SAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLwD,KAAK,CAAE,MAHF,CAILD,GAAG,CAAE,OAJA,CADT,EAzEF,cAiFE,oBAAC,UAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLwD,KAAK,CAAE,KAHF,CAILD,GAAG,CAAE,OAJA,CADT,EAjFF,cAyFE,oBAAC,OAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLwD,KAAK,CAAE,MAHF,CAILD,GAAG,CAAE,QAJA,CADT,EAzFF,cAiGE,oBAAC,YAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLwD,KAAK,CAAE,MAHF,CAILD,GAAG,CAAE,QAJA,CADT,EAjGF,cAyGE,oBAAC,WAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLsD,IAAI,CAAE,KAHD,CAILC,GAAG,CAAE,QAJA,CADT,EAzGF,cAiHE,oBAAC,IAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLsD,IAAI,CAAE,KAHD,CAILC,GAAG,CAAE,QAJA,CADT,EAjHF,cAyHE,oBAAC,SAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLsD,IAAI,CAAE,OAHD,CAILC,GAAG,CAAE,QAJA,CADT,EAzHF,cAiIE,oBAAC,WAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLsD,IAAI,CAAE,OAHD,CAILC,GAAG,CAAE,QAJA,CADT,EAjIF,cAyIE,oBAAC,WAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLsD,IAAI,CAAE,MAHD,CAILC,GAAG,CAAE,QAJA,CADT,EAzIF,cAiJE,oBAAC,WAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLwD,KAAK,CAAE,MAHF,CAILD,GAAG,CAAE,QAJA,CADT,EAjJF,cAyJE,oBAAC,WAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLwD,KAAK,CAAE,MAHF,CAILD,GAAG,CAAE,QAJA,CADT,EAzJF,cAiKE,oBAAC,SAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLwD,KAAK,CAAE,MAHF,CAILD,GAAG,CAAE,QAJA,CADT,EAjKF,cAyKE,oBAAC,UAAD,EACE,KAAK,CAAE,CACLF,MAAM,CAAE,CADH,CAELrD,QAAQ,CAAE,UAFL,CAGLwD,KAAK,CAAE,KAHF,CAILD,GAAG,CAAE,QAJA,CADT,EAzKF,cAiLE,oBAAC,eAAD,EACE,QAAQ,CAAEV,WAAW,EADvB,CAEE,QAAQ,CAAER,mBAAmB,EAF/B,EAjLF,CA5BJ,CADF,CAkOD,CAED,cAAerB,CAAAA,WAAf","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\nimport React, { useState, useEffect } from 'react';\nimport MarketPlaceHeader from './MarketPlaceHeader';\nimport ProductListings from './ProductListings';\nimport VendorCard from './VendorCard';\nimport SearchBar from './SearchBar';\nimport Filter from './Filter';\nimport productService from '../services/products';\nimport vendorService from '../services/vendors';\nimport { ReactComponent as BackgroundSVGTop } from './2022SVG/Vector (33).svg';\nimport { ReactComponent as BackgroundSVGBot } from './2022SVG/Rectangle 101.svg';\nimport { ReactComponent as TopRightSmallStar } from './2022SVG/TopRightSmallStar.svg';\nimport { ReactComponent as TopLeftStar } from './2022SVG/TopLeftStar.svg';\nimport { ReactComponent as Ring } from './2022SVG/Ring.svg';\nimport { ReactComponent as BigCircle } from './2022SVG/BigCircle.svg';\nimport { ReactComponent as SmallCircle } from './2022SVG/SmallCircle.svg';\nimport { ReactComponent as BigStarMid } from './2022SVG/BigStarMid.svg';\nimport { ReactComponent as StarMid } from './2022SVG/StarMid.svg';\nimport { ReactComponent as StarMidSmall } from './2022SVG/StarMidSmall.svg';\nimport Typography from '@material-ui/core/Typography';\nimport { trackPromise } from 'react-promise-tracker';\nimport { LoadingSpinnerComponent } from '../utils/LoadingSpinnerComponent';\nimport { Alert, AlertTitle } from '@material-ui/lab';\n\n// create animations https://www.youtube.com/watch?v=JcHLxzrsRS4\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // width: '90%',\n    margin: 'auto',\n    // maxWidth: '1500px',\n    position: 'relative',\n  },\n  paddedItem: {\n    padding: theme.spacing(3),\n  },\n  vendorView: {\n    position: 'relative',\n  },\n  vendorCards: {\n    textAlign: 'center',\n  },\n  productView: {\n    position: 'relative',\n  },\n}));\n\nfunction compare(sortType, a, b) {\n  //console.log(sortType, a, b);\n  // sort by Alphabetical order\n  if (sortType === 'A-Z') {\n    //console.log(\"A-Z\");\n    if (a.name.toLowerCase() < b.name.toLowerCase()) {\n      return -1;\n    }\n    if (a.name.toLowerCase() > b.name.toLowerCase()) {\n      return 1;\n    }\n  } else if (sortType === 'Z-A') {\n    //console.log(\"Z-A\");\n    if (a.name.toLowerCase() < b.name.toLowerCase()) {\n      return 1;\n    }\n    if (a.name.toLowerCase() > b.name.toLowerCase()) {\n      return -1;\n    }\n  }\n  // sort by Recency\n  else if (sortType === 'Most to least recent') {\n    //console.log(\"Most to least recent\");\n    //most recent first\n    if (a.date_uploaded > b.date_uploaded) {\n      return -1;\n    }\n    if (a.date_uploaded < b.date_uploaded) {\n      return 1;\n    }\n  } else if (sortType === 'Least to most recent') {\n    //console.log(\"Least to most recent\");\n    //least recent first\n    if (a.date_uploaded > b.date_uploaded) {\n      return 1;\n    }\n    if (a.date_uploaded < b.date_uploaded) {\n      return -1;\n    }\n  }\n  // sort by Price\n  else if (sortType === 'Price low to high') {\n    //console.log(\"Price low to high\");\n    if (a.price < b.price) {\n      return -1;\n    }\n    if (a.price > b.price) {\n      return 1;\n    }\n  } else if (sortType === 'Price high to low') {\n    //console.log(\"Price high to low\");\n    if (a.price < b.price) {\n      return 1;\n    }\n    if (a.price > b.price) {\n      return -1;\n    }\n  }\n\n  // a must be equal to b\n  return 0;\n}\n\nfunction MarketPlace() {\n  const [products, setProducts] = useState([]);\n  const [vendors, setVendors] = useState([]);\n  const featuredVendors = ['NAFOfficial'];\n\n  useEffect(() => {\n    async function fetchData() {\n      let res;\n      res = await trackPromise(productService.getAllProducts());\n      if (res.status === 200) {\n        setProducts(res.data);\n      }\n      // }else {\n      //   alert('Error loading products :(');\n      // }\n      res = await trackPromise(vendorService.getAllVendors());\n      if (res.status === 200) {\n        setVendors(res.data);\n      }\n      //  else {\n      //   alert('Error loading vendors :(');\n      // }\n      // setLoading(false);\n    }\n    fetchData();\n  }, []);\n\n  const classes = useStyles();\n\n  const [filter, setFilter] = useState([]); // array of filters chosen\n  const [sort, setSort] = useState(false); //\"A-Z, Recency, Popularity\"\n  const [view, setView] = useState('products'); // \"products\", \"vendors\"\n\n  function setFilterViews(settingsData) {\n    setFilter(settingsData[0]);\n    setSort(settingsData[1]);\n    setView(settingsData[2]);\n  }\n\n  function getFeaturedProducts() {\n    let featuredProducts = [];\n    for (let i = 0; i < featuredVendors.length; i++) {\n      let filteredProducts = products.filter(\n        (pdt) => pdt.vendorName === featuredVendors[i]\n      );\n      if (filteredProducts.length > 0) {\n        featuredProducts = featuredProducts.concat(filteredProducts);\n      }\n    }\n    return featuredProducts;\n  }\n\n  function getProducts() {\n    let orderedProducts;\n    if (filter.length !== 0) {\n      orderedProducts = products.filter((product) =>\n        filter.includes(product.category)\n      );\n    } else {\n      orderedProducts = products;\n    }\n\n    //filter out featured products\n    for (let i = 0; i < featuredVendors.length; i++) {\n      orderedProducts = orderedProducts.filter(\n        (pdt) => pdt.vendorName !== featuredVendors[i]\n      );\n    }\n\n    if (sort === false) {\n      return orderedProducts;\n    } else {\n      return orderedProducts.sort((a, b) => compare(sort, a, b));\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <Alert variant=\"filled\" severity=\"info\">\n        <AlertTitle>\n          <strong>Official Merchandise on Sale through 08 March</strong>\n        </AlertTitle>\n        Surge Marketplace is now closed as of 24 February 2022, 0000.\n        <br />\n        However, the sale of NAF Merchandise has been extended to 8 March 2022,\n        please use the \"NAF Merch\" filter option to view all NAF Official\n        Merchandise.\n      </Alert>\n      <MarketPlaceHeader view={view} />\n      {view !== 'vendors' && (\n        <SearchBar searchCallback={(products) => setProducts(products)} />\n      )}\n      <Filter isVendorLogin={false} parentCallback={setFilterViews} />\n      {/* isVendorPage={false} */}\n      <LoadingSpinnerComponent />\n      {view === 'vendors' ? (\n        <div className={classes.vendorView}>\n          <div className={classes.vendorCards}>\n            {vendors &&\n              vendors.map((vendor) => (\n                <VendorCard key={vendor._id} vendor={vendor} />\n              ))}\n          </div>\n        </div>\n      ) : (\n        <div className={classes.productView}>\n          <BackgroundSVGTop\n            style={{\n              zIndex: -1,\n              position: 'absolute',\n              left: '0px',\n              top: '-100px',\n            }}\n          />\n          <BackgroundSVGBot\n            style={{\n              zIndex: -1,\n              position: 'absolute',\n              left: '0px',\n              top: '400px',\n            }}\n          />\n          <TopLeftStar\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              left: '0px',\n              top: '100px',\n            }}\n          />\n          <Ring\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              left: '0px',\n              top: '160px',\n            }}\n          />\n          <BigCircle\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              left: '130px',\n              top: '320px',\n            }}\n          />\n          <SmallCircle\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              left: '120px',\n              top: '440px',\n            }}\n          />\n          <SmallCircle\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              left: '80px',\n              top: '580px',\n            }}\n          />\n          <SmallCircle\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              right: '80px',\n              top: '790px',\n            }}\n          />\n          <SmallCircle\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              right: '30px',\n              top: '910px',\n            }}\n          />\n          <BigCircle\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              right: '55px',\n              top: '970px',\n            }}\n          />\n          <BigStarMid\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              right: '0px',\n              top: '910px',\n            }}\n          />\n          <StarMid\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              right: '20px',\n              top: '1900px',\n            }}\n          />\n          <StarMidSmall\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              right: '90px',\n              top: '2050px',\n            }}\n          />\n          <TopLeftStar\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              left: '0px',\n              top: '2020px',\n            }}\n          />\n          <Ring\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              left: '0px',\n              top: '2080px',\n            }}\n          />\n          <BigCircle\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              left: '130px',\n              top: '2240px',\n            }}\n          />\n          <SmallCircle\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              left: '120px',\n              top: '2360px',\n            }}\n          />\n          <SmallCircle\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              left: '80px',\n              top: '2500px',\n            }}\n          />\n          <SmallCircle\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              right: '80px',\n              top: '2710px',\n            }}\n          />\n          <SmallCircle\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              right: '30px',\n              top: '2830px',\n            }}\n          />\n          <BigCircle\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              right: '55px',\n              top: '2890px',\n            }}\n          />\n          <BigStarMid\n            style={{\n              zIndex: 0,\n              position: 'absolute',\n              right: '0px',\n              top: '2830px',\n            }}\n          />\n          <ProductListings\n            products={getProducts()}\n            featured={getFeaturedProducts()}\n          />\n        </div>\n      )}\n      {/* <Typography variant=\"h1\">heading 1</Typography>\n      <Typography variant=\"h2\">heading 2</Typography>\n      <Typography variant=\"h3\">heading 3</Typography>\n      <Typography variant=\"h4\">heading 4</Typography>\n      <Typography variant=\"h5\">heading 5</Typography>\n      <Typography variant=\"h6\">heading 6</Typography>\n      <Typography variant=\"subtitle1\">subtitle 1</Typography>\n      <Typography variant=\"subtitle2\">subtitle 2</Typography>\n      <Typography variant=\"body1\">body 1</Typography>\n      <Typography variant=\"body2\">body 2</Typography>\n      <Typography variant=\"caption\">caption</Typography>\n      <Typography variant=\"button\">button</Typography> */}\n    </div>\n  );\n}\n\nexport default MarketPlace;\n"]},"metadata":{},"sourceType":"module"}