{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\src\\\\MarketPlacePage\\\\EditVendor.js\";\nimport React, { useReducer } from 'react';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport Typography from '@material-ui/core/Typography';\nimport { DialogActions } from '@material-ui/core';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport TextField from '@material-ui/core/TextField';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport vendorService from '../services/vendors';\nimport { useHistory } from 'react-router-dom';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'relative',\n    overflow: 'hidden'\n  },\n  formSection: {\n    marginBottom: theme.spacing(3)\n  },\n  bottomSeparator: {\n    marginBottom: theme.spacing(3)\n  },\n  actionButton: {\n    display: 'inline-block',\n    marginTop: theme.spacing(1),\n    marginRight: theme.spacing(2)\n  }\n}));\nconst DialogContent = withStyles(theme => ({\n  root: {\n    position: 'relative',\n    margin: theme.spacing(3),\n    padding: theme.spacing(3),\n    border: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    // maxHeight: '60vh',\n    overflowY: 'auto'\n  },\n  [theme.breakpoints.down('md')]: {\n    root: {\n      // backgroundColor: 'pink',\n      flexDirection: 'row',\n      flexWrap: 'wrap'\n    }\n  },\n  [theme.breakpoints.down('xs')]: {\n    root: {\n      // backgroundColor: 'orange',\n      maxWidth: 'lg'\n    }\n  }\n}))(MuiDialogContent);\n\nconst formReducer = (state, event) => {\n  return { ...state,\n    [event.name]: event.value\n  };\n};\n\nexport default function EditVendor(props) {\n  const {\n    vendor,\n    parentCallback\n  } = props;\n  const classes = useStyles();\n  const history = useHistory();\n  const [formData, setFormData] = useReducer(formReducer, {\n    //required fields in sign up were: username, password, displayName, emailAddress, surcharge(or assigned a default value)\n    username: vendor.username,\n    displayName: vendor.displayName,\n    description: typeof vendor.description === 'undefined' ? '' : vendor.description,\n    contactNumber: typeof vendor.contactNumber === 'undefined' ? '' : vendor.contactNumber,\n    instagramAccount: typeof vendor.instagramAccount === 'undefined' ? '' : vendor.instagramAccount,\n    website: typeof vendor.website === 'undefined' ? '' : vendor.website,\n    surcharge: vendor.surcharge\n  }); //DIALOG ACTIONS\n\n  const handleClose = () => {\n    parentCallback();\n  };\n\n  const handleChange = event => {\n    setFormData({\n      name: event.target.name,\n      value: event.target.value\n    });\n  };\n\n  const saveChanges = async event => {\n    event.preventDefault();\n    const res = await vendorService.editVendor(formData);\n\n    if (res.status === 200) {\n      history.go(0);\n    } else if (res.status === 401) {\n      alert('You are not authorized.');\n    } else {\n      alert(res.data.error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dialog, {\n    onClose: handleClose,\n    \"aria-labelledby\": \"edit popup\",\n    open: true,\n    className: classes.root,\n    fullWidth: true,\n    maxWidth: \"md\" //or \"lg\"\n    ,\n    scroll: \"body\",\n    marginBottom: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DialogContent, {\n    dividers: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.bottomSeparator,\n    variant: \"h5\",\n    component: \"h1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, \"Edit Vendor Profile\"), /*#__PURE__*/React.createElement(\"form\", {\n    autoComplete: \"off\",\n    onSubmit: saveChanges,\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"username\",\n    label: \"Username\",\n    color: \"secondary\",\n    fullWidth: true,\n    required: true,\n    defaultValue: formData.username,\n    onChange: handleChange,\n    className: classes.formSection,\n    inputProps: {\n      maxLength: 32\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    name: \"displayName\",\n    label: \"Display Name\",\n    color: \"secondary\",\n    fullWidth: true,\n    required: true,\n    defaultValue: formData.displayName,\n    onChange: handleChange,\n    className: classes.formSection,\n    inputProps: {\n      maxLength: 100\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(FormControl, {\n    required: true,\n    color: \"secondary\",\n    fullWidth: true,\n    className: classes.formSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"leadTime\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, \"Vendor Surcharge\"), /*#__PURE__*/React.createElement(Input, {\n    name: \"surcharge\",\n    defaultValue: formData.surcharge,\n    onChange: handleChange,\n    startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n      position: \"start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }\n    }, \"$\") // labelWidth={130}\n    ,\n    inputProps: {\n      min: '0',\n      step: '0.01' // pattern: '[0-9]*',\n\n    },\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormHelperText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }\n  }, \"Vendor Surcharge indicates the extra charges (on top of price) due to delivery/packaging.\")), /*#__PURE__*/React.createElement(TextField, {\n    name: \"description\",\n    label: \"Description\",\n    color: \"secondary\",\n    fullWidth: true,\n    multiline: true,\n    rows: 2,\n    defaultValue: formData.description,\n    onChange: handleChange,\n    className: classes.formSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    name: \"contactNumber\",\n    label: \"Contact Number\",\n    color: \"secondary\",\n    fullWidth: true,\n    type: \"tel\",\n    inputProps: {\n      pattern: '^[689][0-9]{7}$'\n    } // accepts '6', '8' or '9' as the first character, then 7 more [0-9] characters\n    ,\n    defaultValue: formData.contactNumber,\n    onChange: handleChange,\n    className: classes.formSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    name: \"instagramAccount\",\n    label: \"Instagram Account\",\n    color: \"secondary\",\n    fullWidth: true,\n    defaultValue: formData.instagramAccount,\n    onChange: handleChange,\n    className: classes.formSection,\n    inputProps: {\n      maxLength: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    name: \"website\",\n    label: \"Website\",\n    color: \"secondary\",\n    fullWidth: true,\n    type: \"url\",\n    defaultValue: formData.website,\n    onChange: handleChange,\n    className: classes.formSection,\n    inputProps: {\n      maxLength: 255\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: classes.actionButton,\n    variant: \"contained\",\n    color: \"secondary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 15\n    }\n  }, \"Save Changes\")))), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: classes.actionButton,\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }, \"Cancel\")))));\n}","map":{"version":3,"sources":["C:/Users/antho/OneDrive/Desktop/naf2022-front/src/MarketPlacePage/EditVendor.js"],"names":["React","useReducer","withStyles","makeStyles","Button","Dialog","MuiDialogContent","Typography","DialogActions","FormControl","InputLabel","TextField","Input","InputAdornment","FormHelperText","vendorService","useHistory","useStyles","theme","root","position","overflow","formSection","marginBottom","spacing","bottomSeparator","actionButton","display","marginTop","marginRight","DialogContent","margin","padding","border","alignItems","overflowY","breakpoints","down","flexDirection","flexWrap","maxWidth","formReducer","state","event","name","value","EditVendor","props","vendor","parentCallback","classes","history","formData","setFormData","username","displayName","description","contactNumber","instagramAccount","website","surcharge","handleClose","handleChange","target","saveChanges","preventDefault","res","editVendor","status","go","alert","data","error","maxLength","min","step","pattern"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport Typography from '@material-ui/core/Typography';\nimport { DialogActions } from '@material-ui/core';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport TextField from '@material-ui/core/TextField';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport vendorService from '../services/vendors';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  formSection: {\n    marginBottom: theme.spacing(3),\n  },\n  bottomSeparator: {\n    marginBottom: theme.spacing(3),\n  },\n  actionButton: {\n    display: 'inline-block',\n    marginTop: theme.spacing(1),\n    marginRight: theme.spacing(2),\n  },\n}));\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    position: 'relative',\n    margin: theme.spacing(3),\n    padding: theme.spacing(3),\n    border: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    // maxHeight: '60vh',\n    overflowY: 'auto',\n  },\n  [theme.breakpoints.down('md')]: {\n    root: {\n      // backgroundColor: 'pink',\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n    },\n  },\n  [theme.breakpoints.down('xs')]: {\n    root: {\n      // backgroundColor: 'orange',\n      maxWidth: 'lg',\n    },\n  },\n}))(MuiDialogContent);\n\nconst formReducer = (state, event) => {\n  return {\n    ...state,\n    [event.name]: event.value,\n  };\n};\n\nexport default function EditVendor(props) {\n  const { vendor, parentCallback } = props;\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [formData, setFormData] = useReducer(formReducer, {\n    //required fields in sign up were: username, password, displayName, emailAddress, surcharge(or assigned a default value)\n    username: vendor.username,\n    displayName: vendor.displayName,\n    description:\n      typeof vendor.description === 'undefined' ? '' : vendor.description,\n    contactNumber:\n      typeof vendor.contactNumber === 'undefined' ? '' : vendor.contactNumber,\n    instagramAccount:\n      typeof vendor.instagramAccount === 'undefined'\n        ? ''\n        : vendor.instagramAccount,\n    website: typeof vendor.website === 'undefined' ? '' : vendor.website,\n    surcharge: vendor.surcharge,\n  });\n\n  //DIALOG ACTIONS\n  const handleClose = () => {\n    parentCallback();\n  };\n\n  const handleChange = (event) => {\n    setFormData({\n      name: event.target.name,\n      value: event.target.value,\n    });\n  };\n\n  const saveChanges = async (event) => {\n    event.preventDefault();\n    const res = await vendorService.editVendor(formData);\n    if (res.status === 200) {\n      history.go(0);\n    } else if (res.status === 401) {\n      alert('You are not authorized.');\n    } else {\n      alert(res.data.error);\n    }\n  };\n\n  return (\n    <>\n      <Dialog\n        onClose={handleClose}\n        aria-labelledby=\"edit popup\"\n        open={true}\n        className={classes.root}\n        fullWidth={true}\n        maxWidth=\"md\" //or \"lg\"\n        scroll=\"body\"\n        marginBottom=\"5\"\n      >\n        <DialogContent dividers>\n          <div>\n            <Typography\n              className={classes.bottomSeparator}\n              variant=\"h5\"\n              component=\"h1\"\n            >\n              Edit Vendor Profile\n            </Typography>\n            <form\n              autoComplete=\"off\"\n              onSubmit={saveChanges}\n              className={classes.root}\n            >\n              <TextField\n                name=\"username\"\n                label=\"Username\"\n                color=\"secondary\"\n                fullWidth\n                required\n                defaultValue={formData.username}\n                onChange={handleChange}\n                className={classes.formSection}\n                inputProps={ {maxLength:32} }\n              />\n\n              <TextField\n                name=\"displayName\"\n                label=\"Display Name\"\n                color=\"secondary\"\n                fullWidth\n                required\n                defaultValue={formData.displayName}\n                onChange={handleChange}\n                className={classes.formSection}\n                inputProps={ {maxLength:100} }\n              />\n              <FormControl\n                required\n                color=\"secondary\"\n                fullWidth\n                className={classes.formSection}\n              >\n                <InputLabel htmlFor=\"leadTime\">Vendor Surcharge</InputLabel>\n                <Input\n                  name=\"surcharge\"\n                  defaultValue={formData.surcharge}\n                  onChange={handleChange}\n                  startAdornment={\n                    <InputAdornment position=\"start\">$</InputAdornment>\n                  }\n                  // labelWidth={130}\n                  inputProps={{\n                    min: '0',\n                    step: '0.01',\n                    // pattern: '[0-9]*',\n                  }}\n                  type=\"number\"\n                />\n                <FormHelperText>\n                  Vendor Surcharge indicates the extra charges (on top of price)\n                  due to delivery/packaging.\n                </FormHelperText>\n              </FormControl>\n              <TextField\n                name=\"description\"\n                label=\"Description\"\n                color=\"secondary\"\n                fullWidth\n                multiline\n                rows={2}\n                defaultValue={formData.description}\n                onChange={handleChange}\n                className={classes.formSection}\n              />\n              <TextField\n                name=\"contactNumber\"\n                label=\"Contact Number\"\n                color=\"secondary\"\n                fullWidth\n                type=\"tel\"\n                inputProps={{ pattern: '^[689][0-9]{7}$' }} // accepts '6', '8' or '9' as the first character, then 7 more [0-9] characters\n                defaultValue={formData.contactNumber}\n                onChange={handleChange}\n                className={classes.formSection}\n              />\n\n              <TextField\n                name=\"instagramAccount\"\n                label=\"Instagram Account\"\n                color=\"secondary\"\n                fullWidth\n                defaultValue={formData.instagramAccount}\n                onChange={handleChange}\n                className={classes.formSection}\n                inputProps={ {maxLength:30} }\n              />\n              <TextField\n                name=\"website\"\n                label=\"Website\"\n                color=\"secondary\"\n                fullWidth\n                type=\"url\"\n                defaultValue={formData.website}\n                onChange={handleChange}\n                className={classes.formSection}\n                inputProps={ {maxLength:255} }\n              />\n              <Button\n                className={classes.actionButton}\n                variant=\"contained\"\n                color=\"secondary\"\n                type=\"submit\"\n              >\n                Save Changes\n              </Button>\n            </form>\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <div>\n            <Button\n              className={classes.actionButton}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleClose}\n            >\n              Cancel\n            </Button>\n          </div>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}