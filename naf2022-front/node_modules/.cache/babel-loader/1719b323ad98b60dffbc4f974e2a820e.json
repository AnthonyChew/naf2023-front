{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import React,{useState}from'react';import{useSelector}from'react-redux';import{useDispatch}from'react-redux';import CartCard from'./CartCard';import{ReactComponent as BackgroundSVG}from\"@svgr/webpack?-svgo,+titleProp,+ref!./CartSVG/Background.svg\";import{ReactComponent as LinesSVG}from\"@svgr/webpack?-svgo,+titleProp,+ref!./CartSVG/Lines.svg\";import{ReactComponent as BottomGalaxySVG}from\"@svgr/webpack?-svgo,+titleProp,+ref!./CartSVG/BottomGalaxy.svg\";import Button from'@material-ui/core/Button';import Grid from'@material-ui/core/Grid';import{orange}from'@material-ui/core/colors';import authService from'../services/auth';import{resetCart}from'../reducers/CartReducer';import{useHistory,Link}from'react-router-dom';import ConfirmationDialog from'../Components/ConfirmationDialog';import UserLogin from'../Authentication/UserLogin';// create animations https://www.youtube.com/watch?v=JcHLxzrsRS4\nvar useStyles=makeStyles(function(theme){return{root:{position:'relative'},content:{textAlign:'center',width:'90%',margin:'auto',paddingTop:theme.spacing(16)},header:{color:\"#033F63\",marginBottom:theme.spacing(10)},cartCards:{marginTop:theme.spacing(2)},total:{flexGrow:1,padding:theme.spacing(2),position:'relative',paddingBottom:theme.spacing(10)},totalText:{paddingRight:'5%',color:\"#fff\"},button:{marginRight:'5%',fontWeight:\"bold\",color:theme.palette.common.white,backgroundColor:\"#D48C8D\",'&:hover':{backgroundColor:\"##d46667\"},float:'right'},subtitles:{color:\"#fff\"}};});function ShoppingCart(){var classes=useStyles();var state=useSelector(function(state){// console.log(state);\nreturn state;});var dispatch=useDispatch();var products=state.addedProducts;var total=state.total.toFixed(2);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),auth=_useState4[0],setAuth=_useState4[1];var history=useHistory();var postOrder=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return authService.checkAuthStudent();case 2:res=_context.sent;if(res.status===401){setAuth(false);}else if(res.status===200){history.push('/Payment');}case 4:case\"end\":return _context.stop();}}},_callee);}));return function postOrder(){return _ref.apply(this,arguments);};}();var handleLoginClose=function handleLoginClose(){setAuth(true);};var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleDialogResult=function handleDialogResult(continueAction){setOpen(false);if(continueAction){clearCart();}};var clearCart=function clearCart(){dispatch(resetCart());};return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},!auth&&/*#__PURE__*/React.createElement(UserLogin,{parentCallback:handleLoginClose}),/*#__PURE__*/React.createElement(LinesSVG,{style:{zIndex:-1,top:'350',left:'0%',position:'absolute'}}),/*#__PURE__*/React.createElement(BottomGalaxySVG,{style:{zIndex:-1,top:'1300',left:'5%',position:'absolute'}}),/*#__PURE__*/React.createElement(BackgroundSVG,{\"data-aos\":\"slide-right\",\"data-aos-duration\":\"1000\",style:{zIndex:-999,top:65,left:0,position:'absolute',overflowY:'hidden'}}),/*#__PURE__*/React.createElement(\"div\",{className:classes.content},/*#__PURE__*/React.createElement(\"header\",{className:classes.header},/*#__PURE__*/React.createElement(Typography,{variant:\"h2\"},\"YOUR CART\"),/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",paragraph:true,style:{fontWeight:\"bolder\"}},\"ARE YOU READY TO CHECK OUT YOUR ITEMS?\")),/*#__PURE__*/React.createElement(Typography,{paragraph:true,className:classes.subtitles},\"You have \",products.length,\" item(s) in your cart.\"),products.length===0&&/*#__PURE__*/React.createElement(Typography,{paragraph:true,className:classes.subtitles},\"Take a look at our\",' ',/*#__PURE__*/React.createElement(Link,{to:\"/marketplace\",variant:\"contained\"},\"marketplace\"),\"!\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",disabled:products.length===0,onClick:handleClickOpen},\"Clear Cart\"),open&&/*#__PURE__*/React.createElement(ConfirmationDialog//callback\n,{title:\"Remove all products from your cart?\",content:\"All products will be removed from your cart. This action cannot be undone\",parentCallback:handleDialogResult}),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",component:Link,to:\"/marketplace\",style:{marginLeft:10}},\"Back to Marketplace\"),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:2,className:classes.cartCards},products&&products.map(function(product,i){return product.variations.map(function(variation,j){return/*#__PURE__*/React.createElement(CartCard,{key:i*product.variations.length+j,product:variation,stock:product.stock});});}))),/*#__PURE__*/React.createElement(\"div\",{id:\"total\",className:classes.total},/*#__PURE__*/React.createElement(Typography,{className:classes.totalText,align:\"right\",variant:\"h4\"},\"Total: $\",total),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",className:classes.button,disabled:products.length===0,onClick:postOrder},\"Checkout\")));}export default ShoppingCart;","map":{"version":3,"sources":["C:/Users/antho/OneDrive/Desktop/naf2022-front/src/ShoppingCart/ShoppingCart.js"],"names":["Typography","makeStyles","React","useState","useSelector","useDispatch","CartCard","Button","Grid","orange","authService","resetCart","useHistory","Link","ConfirmationDialog","UserLogin","useStyles","theme","root","position","content","textAlign","width","margin","paddingTop","spacing","header","color","marginBottom","cartCards","marginTop","total","flexGrow","padding","paddingBottom","totalText","paddingRight","button","marginRight","fontWeight","palette","common","white","backgroundColor","float","subtitles","ShoppingCart","classes","state","dispatch","products","addedProducts","toFixed","open","setOpen","auth","setAuth","history","postOrder","checkAuthStudent","res","status","push","handleLoginClose","handleClickOpen","handleDialogResult","continueAction","clearCart","zIndex","top","left","overflowY","length","marginLeft","map","product","i","variations","variation","j","stock"],"mappings":"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","sourcesContent":["import Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useDispatch } from 'react-redux';\nimport CartCard from './CartCard';\nimport { ReactComponent as BackgroundSVG } from './CartSVG/Background.svg';\nimport { ReactComponent as LinesSVG } from './CartSVG/Lines.svg';\nimport { ReactComponent as BottomGalaxySVG } from './CartSVG/BottomGalaxy.svg';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport { orange } from '@material-ui/core/colors';\nimport authService from '../services/auth';\nimport { resetCart } from '../reducers/CartReducer';\nimport { useHistory, Link } from 'react-router-dom';\nimport ConfirmationDialog from '../Components/ConfirmationDialog';\nimport UserLogin from '../Authentication/UserLogin';\n\n// create animations https://www.youtube.com/watch?v=JcHLxzrsRS4\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'relative',\n  },\n  content: {\n    textAlign: 'center',\n    width: '90%',\n    margin: 'auto',\n    paddingTop: theme.spacing(16),\n  },\n  header: {\n    color: \"#033F63\",\n    marginBottom: theme.spacing(10),\n  },\n  cartCards: {\n    marginTop: theme.spacing(2),\n  },\n  total: {\n    flexGrow: 1,\n    padding: theme.spacing(2),\n    position: 'relative',\n    paddingBottom: theme.spacing(10),\n  },\n  totalText: {\n    paddingRight: '5%',\n    color: \"#fff\",\n  },\n  button: {\n    marginRight: '5%',\n    fontWeight: \"bold\",\n    color: theme.palette.common.white,\n    backgroundColor: \"#D48C8D\",\n    '&:hover': {\n      backgroundColor: \"##d46667\",\n    },\n    float: 'right',\n  },\n  subtitles: {\n    color: \"#fff\"\n  }\n}));\n\nfunction ShoppingCart() {\n  const classes = useStyles();\n  const state = useSelector((state) => {\n    // console.log(state);\n    return state;\n  });\n  const dispatch = useDispatch();\n  const products = state.addedProducts;\n  const total = state.total.toFixed(2);\n  const [open, setOpen] = useState(false);\n  const [auth, setAuth] = useState(true);\n  const history = useHistory();\n\n  const postOrder = async () => {\n    const res = await authService.checkAuthStudent();\n    if (res.status === 401) {\n      setAuth(false);\n    } else if (res.status === 200) {\n      history.push('/Payment');\n    }\n  };\n\n  const handleLoginClose = () => {\n    setAuth(true);\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleDialogResult = (continueAction) => {\n    setOpen(false);\n    if (continueAction) {\n      clearCart();\n    }\n  };\n\n  const clearCart = () => {\n    dispatch(resetCart());\n  };\n\n  return (\n    <div className={classes.root}>\n      {!auth && <UserLogin parentCallback={handleLoginClose} />}\n\n        <LinesSVG style={{ zIndex: -1, top: '350', left: '0%', position: 'absolute' }} />\n        <BottomGalaxySVG style={{ zIndex: -1, top: '1300', left: '5%', position: 'absolute' }} />\n        <BackgroundSVG\n            data-aos=\"slide-right\"\n            data-aos-duration=\"1000\"\n            style={{\n              zIndex: -999,\n              top: 65,\n              left: 0,\n              position: 'absolute',\n              overflowY: 'hidden',\n            }}\n        />\n      <div className={classes.content}>\n        <header className={classes.header}>\n          <Typography variant=\"h2\">YOUR CART</Typography>\n          <Typography variant=\"h5\" paragraph style={{fontWeight:\"bolder\"}}>\n          ARE YOU READY TO CHECK OUT YOUR ITEMS?\n        </Typography>\n        </header>\n        <Typography paragraph className={classes.subtitles}>\n          You have {products.length} item(s) in your cart.\n        </Typography>\n        {products.length === 0 && (\n          <Typography paragraph className={classes.subtitles}>\n            Take a look at our{' '}\n            <Link to=\"/marketplace\" variant=\"contained\">\n              marketplace\n            </Link>\n            !\n          </Typography>\n        )}\n        <Button\n          variant=\"contained\"\n          disabled={products.length === 0}\n          onClick={handleClickOpen}\n        >\n          Clear Cart\n        </Button>\n        {open && (\n          <ConfirmationDialog\n            //callback\n            title=\"Remove all products from your cart?\"\n            content=\"All products will be removed from your cart. This action cannot be undone\"\n            parentCallback={handleDialogResult}\n          />\n        )}\n        <Button\n          variant=\"contained\"\n          component={Link}\n          to=\"/marketplace\"\n          style={{marginLeft: 10}}\n        >\n          Back to Marketplace\n        </Button>\n        <Grid container spacing={2} className={classes.cartCards}>\n          {products &&\n            products.map((product, i) => {\n              return product.variations.map((variation, j) => (\n                <CartCard\n                  key={i * product.variations.length + j}\n                  product={variation}\n                  stock={product.stock}\n                />\n              ));\n            })}\n        </Grid>\n      </div>\n      <div id=\"total\" className={classes.total}>\n        <Typography className={classes.totalText} align=\"right\" variant=\"h4\">\n          Total: ${total}\n        </Typography>\n        <Button\n          variant=\"contained\"\n          className={classes.button}\n          disabled={products.length === 0}\n          onClick={postOrder}\n        >\n          Checkout\n        </Button>\n\n      </div>\n    </div>\n  );\n}\n\nexport default ShoppingCart;\n"]},"metadata":{},"sourceType":"module"}