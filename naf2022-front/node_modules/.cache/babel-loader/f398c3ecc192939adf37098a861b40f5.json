{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\src\\\\ProfilePage\\\\Profile.js\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport React, { useState, useEffect } from 'react';\nimport ProfileHeader from './ProfileHeader';\nimport UserWorkshop from './UserWorkshop';\nimport LuckyDraw from './LuckyDraw';\nimport UserLogin from '../Authentication/UserLogin';\nimport OrderTable from '../MarketPlacePage/OrderTable'; // import Button from '@material-ui/core/Button';\n// import Box from '@material-ui/core/Box';\n\nimport studentSevice from '../services/students';\nimport { ReactComponent as PurpleGreenSVG } from \"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/Group 1.svg\";\nimport Logout from '../Authentication/Logout';\nimport { LoadingSpinnerComponent } from '../utils/LoadingSpinnerComponent';\nimport { trackPromise } from 'react-promise-tracker'; // create animations https://www.youtube.com/watch?v=JcHLxzrsRS4\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    textAlign: 'center',\n    maxWidth: '80%',\n    margin: 'auto'\n  },\n  paddedItem: {\n    padding: theme.spacing(3)\n  }\n}));\n\nfunction Profile() {\n  const classes = useStyles();\n  const [profile, setProfile] = useState(null);\n  const [auth, setAuth] = useState(true); // console.log(profile);\n  // console.log(auth);\n\n  useEffect(() => {\n    async function fetchProfileData() {\n      const res = await trackPromise(studentSevice.getUser());\n\n      if (res.status === 200) {\n        setProfile(res.data);\n      } else {\n        setAuth(false);\n      }\n    }\n\n    fetchProfileData();\n  }, [auth]);\n\n  const handleLoginClose = () => {\n    setAuth(true);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(LoadingSpinnerComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }), !auth && /*#__PURE__*/React.createElement(UserLogin, {\n    parentCallback: handleLoginClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }), auth ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ProfileHeader, {\n    displayName: profile && profile.displayName,\n    image: 'ProfilePic.png',\n    email: profile && profile.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Logout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(UserWorkshop, {\n    waitlistedWorkshops: profile && profile.waitlistedWorkshops,\n    registeredWorkshops: profile && profile.registeredWorkshops,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(LuckyDraw, {\n    purchasePoints: profile && profile.purchasePoints,\n    totalPoints: profile && profile.totalPoints,\n    otherPoints: profile && profile.points,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }), profile && profile.pastOrders && /*#__PURE__*/React.createElement(OrderTable, {\n    rows: profile.pastOrders,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(PurpleGreenSVG, {\n    \"data-aos\": \"slide-right\",\n    \"data-aos-duration\": \"1000\",\n    \"data-aos-anchor\": \"#workshopsList\",\n    style: {\n      zIndex: -999,\n      top: 800,\n      left: 0,\n      position: 'absolute',\n      overflowY: 'hidden'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  })) : null);\n}\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/antho/OneDrive/Desktop/naf2022-front/src/ProfilePage/Profile.js"],"names":["makeStyles","React","useState","useEffect","ProfileHeader","UserWorkshop","LuckyDraw","UserLogin","OrderTable","studentSevice","Logout","LoadingSpinnerComponent","trackPromise","useStyles","theme","root","textAlign","maxWidth","margin","paddedItem","padding","spacing","Profile","classes","profile","setProfile","auth","setAuth","fetchProfileData","res","getUser","status","data","handleLoginClose","displayName","email","waitlistedWorkshops","registeredWorkshops","purchasePoints","totalPoints","points","pastOrders","zIndex","top","left","position","overflowY"],"mappings":"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","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\nimport React, { useState, useEffect } from 'react';\nimport ProfileHeader from './ProfileHeader';\nimport UserWorkshop from './UserWorkshop';\nimport LuckyDraw from './LuckyDraw';\nimport UserLogin from '../Authentication/UserLogin';\nimport OrderTable from '../MarketPlacePage/OrderTable';\n// import Button from '@material-ui/core/Button';\n// import Box from '@material-ui/core/Box';\nimport studentSevice from '../services/students';\nimport { ReactComponent as PurpleGreenSVG } from './SVG/Group 1.svg';\nimport Logout from '../Authentication/Logout';\nimport { LoadingSpinnerComponent } from '../utils/LoadingSpinnerComponent';\nimport { trackPromise } from 'react-promise-tracker';\n\n// create animations https://www.youtube.com/watch?v=JcHLxzrsRS4\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    textAlign: 'center',\n    maxWidth: '80%',\n    margin: 'auto',\n  },\n  paddedItem: {\n    padding: theme.spacing(3),\n  },\n}));\nfunction Profile() {\n  const classes = useStyles();\n\n  const [profile, setProfile] = useState(null);\n  const [auth, setAuth] = useState(true);\n\n  // console.log(profile);\n  // console.log(auth);\n\n  useEffect(() => {\n    async function fetchProfileData() {\n      const res = await trackPromise(studentSevice.getUser());\n      if (res.status === 200) {\n        setProfile(res.data);\n      } else {\n        setAuth(false);\n      }\n    }\n    fetchProfileData();\n  }, [auth]);\n\n  const handleLoginClose = () => {\n    setAuth(true);\n  };\n\n  return (\n    <div>\n      <LoadingSpinnerComponent />\n      {!auth && <UserLogin parentCallback={handleLoginClose} />}\n      {auth ? (\n        <>\n          <ProfileHeader\n            displayName={profile && profile.displayName}\n            image={'ProfilePic.png'}\n            email={profile && profile.email}\n          />\n          <Logout />\n          <UserWorkshop\n            waitlistedWorkshops={profile && profile.waitlistedWorkshops}\n            registeredWorkshops={profile && profile.registeredWorkshops}\n          />\n          <LuckyDraw\n            purchasePoints={profile && profile.purchasePoints}\n            totalPoints={profile && profile.totalPoints}\n            otherPoints={profile && profile.points}\n          />\n          {profile && profile.pastOrders && (\n            <OrderTable rows={profile.pastOrders} />\n          )}\n\n          <PurpleGreenSVG\n            data-aos=\"slide-right\"\n            data-aos-duration=\"1000\"\n            data-aos-anchor=\"#workshopsList\"\n            style={{\n              zIndex: -999,\n              top: 800,\n              left: 0,\n              position: 'absolute',\n              overflowY: 'hidden',\n            }}\n          />\n        </>\n      ) : null}\n    </div>\n  );\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}