{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{makeStyles}from'@material-ui/core/styles';import React,{useState,useEffect}from'react';import WorkshopsHeader from'./WorkshopsHeader';import FilterWorkshops from'./FilterWorkshops';import WorkshopsList from'./WorkshopsList';import Hidden from'@material-ui/core/Hidden';import workshopService from'../services/workshops';import{LoadingSpinnerComponent}from'../utils/LoadingSpinnerComponent';import{trackPromise}from'react-promise-tracker';import{ReactComponent as Btmleft}from\"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/btmleft.svg\";import{ReactComponent as Btmright}from\"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/btmright.svg\";import{ReactComponent as Star1}from\"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/star1.svg\";import{ReactComponent as Star2}from\"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/star2.svg\";import{ReactComponent as Star3}from\"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/star3.svg\";import{ReactComponent as Star4}from\"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/star4.svg\";import{ReactComponent as Dot}from\"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/dot.svg\";var useStyles=makeStyles(function(theme){return{root:{textAlign:'center',margin:'auto'},paddedItem:{padding:theme.spacing(3)}};});function compare(sortType,a,b){// console.log(sortType, a, b);\nif(sortType==='A-Z'){// sort by alphabetical order, A first\nif(a.name<b.name){return-1;}if(a.name>b.name){return 1;}}else if(sortType==='Date/Time'){// sort by Date/Time, earliest first\n//earliest first\nif(a.date>b.date){return 1;}if(a.date<b.date){return-1;}if(a.date===b.date){if(a.startTime>b.startTime){return 1;}if(a.startTime<b.startTime){return-1;}}}else if(sortType==='Vacancies'){// sort by no. vacancies remaining, largest number first\nif(a.remainingVacancies>b.remainingVacancies){return-1;}else{return 1;}}// a must be equal to b\nreturn 0;}function Workshops(){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),workshops=_useState2[0],setWorkshops=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filter=_useState4[0],setFilter=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),sort=_useState6[0],setSort=_useState6[1];function setFilterViews(settingsData){setFilter(settingsData[0]);setSort(settingsData[1]);}useEffect(function(){function fetchWorkshopData(){return _fetchWorkshopData.apply(this,arguments);}function _fetchWorkshopData(){_fetchWorkshopData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return trackPromise(workshopService.getAll());case 2:res=_context.sent;setWorkshops(res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchWorkshopData.apply(this,arguments);}fetchWorkshopData();},[]);return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(Hidden,null,/*#__PURE__*/React.createElement(Star1,{style:{zIndex:0,top:'150%',left:'2%',position:'absolute'}}),/*#__PURE__*/React.createElement(Star2,{style:{zIndex:0,top:'190%',left:'5%',position:'absolute'}}),/*#__PURE__*/React.createElement(Star3,{style:{zIndex:0,top:'270%',right:'5%',position:'absolute'}}),/*#__PURE__*/React.createElement(Star4,{style:{zIndex:0,top:'300%',right:'5%',position:'absolute'}}),/*#__PURE__*/React.createElement(Dot,{style:{zIndex:0,top:'290%',left:'5%',position:'absolute'}}),/*#__PURE__*/React.createElement(Dot,{style:{zIndex:0,top:'320%',left:'2%',position:'absolute'}}),/*#__PURE__*/React.createElement(Dot,{style:{zIndex:0,top:'350%',left:'7%',position:'absolute'}})),/*#__PURE__*/React.createElement(WorkshopsHeader,null),/*#__PURE__*/React.createElement(FilterWorkshops,{parentCallback:setFilterViews}),/*#__PURE__*/React.createElement(LoadingSpinnerComponent,null),/*#__PURE__*/React.createElement(WorkshopsList,{workshops:filter.length===0?workshops.sort(function(a,b){return compare(sort,a,b);}):workshops.sort(function(a,b){return compare(sort,a,b);}).filter(function(workshop){return filter.includes(workshop.category);}),id:\"workshopsList\",\"data-aos\":\"zoom-in-up\",\"data-aos-duration\":\"1000\"}));}export default Workshops;","map":{"version":3,"sources":["C:/Users/antho/OneDrive/Desktop/naf2022-front/src/ProgrammesPage/Workshops.js"],"names":["makeStyles","React","useState","useEffect","WorkshopsHeader","FilterWorkshops","WorkshopsList","Hidden","workshopService","LoadingSpinnerComponent","trackPromise","useStyles","theme","root","textAlign","margin","paddedItem","padding","spacing","compare","sortType","a","b","name","date","startTime","remainingVacancies","Workshops","classes","workshops","setWorkshops","filter","setFilter","sort","setSort","setFilterViews","settingsData","fetchWorkshopData","getAll","res","data","zIndex","top","left","position","right","length","workshop","includes","category"],"mappings":"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","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\nimport React, { useState, useEffect } from 'react';\nimport WorkshopsHeader from './WorkshopsHeader';\nimport FilterWorkshops from './FilterWorkshops';\nimport WorkshopsList from './WorkshopsList';\nimport Hidden from '@material-ui/core/Hidden';\nimport workshopService from '../services/workshops';\nimport { LoadingSpinnerComponent } from '../utils/LoadingSpinnerComponent';\nimport { trackPromise } from 'react-promise-tracker';\nimport { ReactComponent as Btmleft} from './SVG/btmleft.svg';\nimport { ReactComponent as Btmright} from './SVG/btmright.svg';\nimport { ReactComponent as Star1} from './SVG/star1.svg';\nimport { ReactComponent as Star2} from './SVG/star2.svg';\nimport { ReactComponent as Star3} from './SVG/star3.svg';\nimport { ReactComponent as Star4} from './SVG/star4.svg';\nimport { ReactComponent as Dot} from './SVG/dot.svg';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    textAlign: 'center',\n    margin: 'auto',\n  },\n  paddedItem: {\n    padding: theme.spacing(3),\n  },\n}));\n\nfunction compare(sortType, a, b) {\n  // console.log(sortType, a, b);\n  if (sortType === 'A-Z') { // sort by alphabetical order, A first\n    if (a.name < b.name) {\n      return -1;\n    }\n    if (a.name > b.name) {\n      return 1;\n    }\n  } else if (sortType === 'Date/Time') {  // sort by Date/Time, earliest first\n    //earliest first\n    if (a.date > b.date) {\n      return 1;\n    }\n    if (a.date < b.date) {\n      return -1;\n    }\n    if (a.date === b.date) {\n      if (a.startTime > b.startTime) {\n        return 1;\n      }\n      if (a.startTime < b.startTime) {\n        return -1;\n      }\n    }\n  } else if (sortType === 'Vacancies') {  // sort by no. vacancies remaining, largest number first\n    if (a.remainingVacancies > b.remainingVacancies) {\n      return -1;\n    }\n    else {\n      return 1;\n    }\n  }\n  // a must be equal to b\n  return 0;\n}\n\nfunction Workshops() {\n  const classes = useStyles();\n  const [workshops, setWorkshops] = useState([]);\n\n  const [filter, setFilter] = useState([]);\n  const [sort, setSort] = useState(false);\n\n  function setFilterViews(settingsData) {\n    setFilter(settingsData[0]);\n    setSort(settingsData[1]);\n  }\n\n  useEffect(() => {\n    async function fetchWorkshopData() {\n      const res = await trackPromise(workshopService.getAll());\n      setWorkshops(res.data);\n    }\n    fetchWorkshopData();\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      <Hidden>   \n      <Star1 style={{ zIndex: 0, top:'150%',left:'2%',position: 'absolute' }} />\n      <Star2 style={{ zIndex: 0, top:'190%',left:'5%',position: 'absolute' }} />\n      <Star3 style={{ zIndex: 0, top:'270%',right:'5%',position: 'absolute' }} />\n      <Star4 style={{ zIndex: 0, top:'300%',right:'5%',position: 'absolute' }} />\n\n      <Dot style={{ zIndex: 0, top:'290%',left:'5%',position: 'absolute' }} />\n      <Dot style={{ zIndex: 0, top:'320%',left:'2%',position: 'absolute' }} />\n      <Dot style={{ zIndex: 0, top:'350%',left:'7%',position: 'absolute' }} />\n\n{/* \n      <Btmleft style={{ zIndex: 0, top:'395%',left:'0%',position: 'absolute' }} />\n      <Btmright style={{ zIndex: 0, top:'403%',right:'0%',position: 'absolute' }} /> */}\n      </Hidden>\n      <WorkshopsHeader />\n      <FilterWorkshops parentCallback={setFilterViews} />\n      <LoadingSpinnerComponent />\n      <WorkshopsList\n        workshops={\n          filter.length === 0\n          ? workshops.sort((a, b) => compare(sort, a, b))\n          : workshops.sort((a, b) => compare(sort, a, b)).filter((workshop) => filter.includes(workshop.category))\n        }\n        id=\"workshopsList\"\n        data-aos=\"zoom-in-up\"\n        data-aos-duration=\"1000\"\n      />\n      \n    </div>\n  );\n}\n\nexport default Workshops;\n"]},"metadata":{},"sourceType":"module"}