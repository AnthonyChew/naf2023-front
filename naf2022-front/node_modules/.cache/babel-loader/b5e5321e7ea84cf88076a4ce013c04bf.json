{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\src\\\\ProgrammesPage\\\\Workshops.js\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport React, { useState, useEffect } from 'react';\nimport WorkshopsHeader from './WorkshopsHeader';\nimport FilterWorkshops from './FilterWorkshops';\nimport WorkshopsList from './WorkshopsList';\nimport Hidden from '@material-ui/core/Hidden';\nimport workshopService from '../services/workshops';\nimport { LoadingSpinnerComponent } from '../utils/LoadingSpinnerComponent';\nimport { trackPromise } from 'react-promise-tracker';\nimport { ReactComponent as Btmleft } from \"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/btmleft.svg\";\nimport { ReactComponent as Btmright } from \"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/btmright.svg\";\nimport { ReactComponent as Star1 } from \"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/star1.svg\";\nimport { ReactComponent as Star2 } from \"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/star2.svg\";\nimport { ReactComponent as Star3 } from \"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/star3.svg\";\nimport { ReactComponent as Star4 } from \"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/star4.svg\";\nimport { ReactComponent as Dot } from \"@svgr/webpack?-svgo,+titleProp,+ref!./SVG/dot.svg\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    textAlign: 'center',\n    margin: 'auto'\n  },\n  paddedItem: {\n    padding: theme.spacing(3)\n  }\n}));\n\nfunction compare(sortType, a, b) {\n  // console.log(sortType, a, b);\n  if (sortType === 'A-Z') {\n    // sort by alphabetical order, A first\n    if (a.name < b.name) {\n      return -1;\n    }\n\n    if (a.name > b.name) {\n      return 1;\n    }\n  } else if (sortType === 'Date/Time') {\n    // sort by Date/Time, earliest first\n    //earliest first\n    if (a.date > b.date) {\n      return 1;\n    }\n\n    if (a.date < b.date) {\n      return -1;\n    }\n\n    if (a.date === b.date) {\n      if (a.startTime > b.startTime) {\n        return 1;\n      }\n\n      if (a.startTime < b.startTime) {\n        return -1;\n      }\n    }\n  } else if (sortType === 'Vacancies') {\n    // sort by no. vacancies remaining, largest number first\n    if (a.remainingVacancies > b.remainingVacancies) {\n      return -1;\n    } else {\n      return 1;\n    }\n  } // a must be equal to b\n\n\n  return 0;\n}\n\nfunction Workshops() {\n  const classes = useStyles();\n  const [workshops, setWorkshops] = useState([]);\n  const [filter, setFilter] = useState([]);\n  const [sort, setSort] = useState(false);\n\n  function setFilterViews(settingsData) {\n    setFilter(settingsData[0]);\n    setSort(settingsData[1]);\n  }\n\n  useEffect(() => {\n    async function fetchWorkshopData() {\n      const res = await trackPromise(workshopService.getAll());\n      setWorkshops(res.data);\n    }\n\n    fetchWorkshopData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Hidden, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Star1, {\n    style: {\n      zIndex: 0,\n      top: '150%',\n      left: '2%',\n      position: 'absolute'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Star2, {\n    style: {\n      zIndex: 0,\n      top: '190%',\n      left: '5%',\n      position: 'absolute'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Star3, {\n    style: {\n      zIndex: 0,\n      top: '270%',\n      right: '5%',\n      position: 'absolute'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Star4, {\n    style: {\n      zIndex: 0,\n      top: '300%',\n      right: '5%',\n      position: 'absolute'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Dot, {\n    style: {\n      zIndex: 0,\n      top: '290%',\n      left: '5%',\n      position: 'absolute'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Dot, {\n    style: {\n      zIndex: 0,\n      top: '320%',\n      left: '2%',\n      position: 'absolute'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Dot, {\n    style: {\n      zIndex: 0,\n      top: '350%',\n      left: '7%',\n      position: 'absolute'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(WorkshopsHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(FilterWorkshops, {\n    parentCallback: setFilterViews,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(LoadingSpinnerComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(WorkshopsList, {\n    workshops: filter.length === 0 ? workshops.sort((a, b) => compare(sort, a, b)) : workshops.sort((a, b) => compare(sort, a, b)).filter(workshop => filter.includes(workshop.category)),\n    id: \"workshopsList\",\n    \"data-aos\": \"zoom-in-up\",\n    \"data-aos-duration\": \"1000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Workshops;","map":{"version":3,"sources":["C:/Users/antho/OneDrive/Desktop/naf2022-front/src/ProgrammesPage/Workshops.js"],"names":["makeStyles","React","useState","useEffect","WorkshopsHeader","FilterWorkshops","WorkshopsList","Hidden","workshopService","LoadingSpinnerComponent","trackPromise","useStyles","theme","root","textAlign","margin","paddedItem","padding","spacing","compare","sortType","a","b","name","date","startTime","remainingVacancies","Workshops","classes","workshops","setWorkshops","filter","setFilter","sort","setSort","setFilterViews","settingsData","fetchWorkshopData","res","getAll","data","zIndex","top","left","position","right","length","workshop","includes","category"],"mappings":"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","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\nimport React, { useState, useEffect } from 'react';\nimport WorkshopsHeader from './WorkshopsHeader';\nimport FilterWorkshops from './FilterWorkshops';\nimport WorkshopsList from './WorkshopsList';\nimport Hidden from '@material-ui/core/Hidden';\nimport workshopService from '../services/workshops';\nimport { LoadingSpinnerComponent } from '../utils/LoadingSpinnerComponent';\nimport { trackPromise } from 'react-promise-tracker';\nimport { ReactComponent as Btmleft} from './SVG/btmleft.svg';\nimport { ReactComponent as Btmright} from './SVG/btmright.svg';\nimport { ReactComponent as Star1} from './SVG/star1.svg';\nimport { ReactComponent as Star2} from './SVG/star2.svg';\nimport { ReactComponent as Star3} from './SVG/star3.svg';\nimport { ReactComponent as Star4} from './SVG/star4.svg';\nimport { ReactComponent as Dot} from './SVG/dot.svg';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    textAlign: 'center',\n    margin: 'auto',\n  },\n  paddedItem: {\n    padding: theme.spacing(3),\n  },\n}));\n\nfunction compare(sortType, a, b) {\n  // console.log(sortType, a, b);\n  if (sortType === 'A-Z') { // sort by alphabetical order, A first\n    if (a.name < b.name) {\n      return -1;\n    }\n    if (a.name > b.name) {\n      return 1;\n    }\n  } else if (sortType === 'Date/Time') {  // sort by Date/Time, earliest first\n    //earliest first\n    if (a.date > b.date) {\n      return 1;\n    }\n    if (a.date < b.date) {\n      return -1;\n    }\n    if (a.date === b.date) {\n      if (a.startTime > b.startTime) {\n        return 1;\n      }\n      if (a.startTime < b.startTime) {\n        return -1;\n      }\n    }\n  } else if (sortType === 'Vacancies') {  // sort by no. vacancies remaining, largest number first\n    if (a.remainingVacancies > b.remainingVacancies) {\n      return -1;\n    }\n    else {\n      return 1;\n    }\n  }\n  // a must be equal to b\n  return 0;\n}\n\nfunction Workshops() {\n  const classes = useStyles();\n  const [workshops, setWorkshops] = useState([]);\n\n  const [filter, setFilter] = useState([]);\n  const [sort, setSort] = useState(false);\n\n  function setFilterViews(settingsData) {\n    setFilter(settingsData[0]);\n    setSort(settingsData[1]);\n  }\n\n  useEffect(() => {\n    async function fetchWorkshopData() {\n      const res = await trackPromise(workshopService.getAll());\n      setWorkshops(res.data);\n    }\n    fetchWorkshopData();\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      <Hidden>   \n      <Star1 style={{ zIndex: 0, top:'150%',left:'2%',position: 'absolute' }} />\n      <Star2 style={{ zIndex: 0, top:'190%',left:'5%',position: 'absolute' }} />\n      <Star3 style={{ zIndex: 0, top:'270%',right:'5%',position: 'absolute' }} />\n      <Star4 style={{ zIndex: 0, top:'300%',right:'5%',position: 'absolute' }} />\n\n      <Dot style={{ zIndex: 0, top:'290%',left:'5%',position: 'absolute' }} />\n      <Dot style={{ zIndex: 0, top:'320%',left:'2%',position: 'absolute' }} />\n      <Dot style={{ zIndex: 0, top:'350%',left:'7%',position: 'absolute' }} />\n\n{/* \n      <Btmleft style={{ zIndex: 0, top:'395%',left:'0%',position: 'absolute' }} />\n      <Btmright style={{ zIndex: 0, top:'403%',right:'0%',position: 'absolute' }} /> */}\n      </Hidden>\n      <WorkshopsHeader />\n      <FilterWorkshops parentCallback={setFilterViews} />\n      <LoadingSpinnerComponent />\n      <WorkshopsList\n        workshops={\n          filter.length === 0\n          ? workshops.sort((a, b) => compare(sort, a, b))\n          : workshops.sort((a, b) => compare(sort, a, b)).filter((workshop) => filter.includes(workshop.category))\n        }\n        id=\"workshopsList\"\n        data-aos=\"zoom-in-up\"\n        data-aos-duration=\"1000\"\n      />\n      \n    </div>\n  );\n}\n\nexport default Workshops;\n"]},"metadata":{},"sourceType":"module"}