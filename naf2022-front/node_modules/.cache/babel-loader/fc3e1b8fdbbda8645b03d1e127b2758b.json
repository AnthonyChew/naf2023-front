{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\antho\\\\OneDrive\\\\Desktop\\\\naf2022-front\\\\src\\\\ProgrammesPage\\\\WorkshopCard.js\";\nimport React, { useState } from 'react';\nimport { makeStyles, withStyles, useTheme } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport MuiAccordion from '@material-ui/core/Accordion';\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary';\nimport MuiAccordionDetails from '@material-ui/core/AccordionDetails';\nimport Slider from 'react-slick';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport SignupPopup from './SignupPopup';\nimport WorkshopOverPopup from './WorkshopOverPopup';\nimport UserLogin from '../Authentication/UserLogin';\nimport authService from '../services/auth';\nimport moment from 'moment';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    maxWidth: 600,\n    margin: theme.spacing(3),\n    padding: theme.spacing(2),\n    textAlign: 'left'\n  },\n  thumbnail: {\n    width: '100%',\n    height: 200,\n    objectFit: 'cover',\n    margin: 'auto'\n  }\n}));\nconst Accordion = withStyles({\n  root: {\n    boxShadow: 1,\n    // border: '1px solid rgba(0, 0, 0, .125)',\n    '&:not(:last-child)': {\n      borderBottom: 0\n    },\n    '&:before': {\n      display: 'none'\n    },\n    '&$expanded': {\n      margin: 'auto'\n    }\n  },\n  expanded: {}\n})(MuiAccordion);\nconst AccordionSummary = withStyles({\n  root: {\n    // backgroundColor: '#fffef2',\n    marginBottom: -10\n  },\n  content: {\n    '&$expanded': {\n      margin: '12px 0'\n    }\n  },\n  expanded: {}\n})(MuiAccordionSummary);\nconst AccordionDetails = withStyles(theme => ({\n  root: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    alignItems: 'center'\n  }\n}))(MuiAccordionDetails);\nexport default function WorkshopCard(props) {\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleChange = panel => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const {\n    workshop\n  } = props;\n  const {\n    name,\n    organizer,\n    description,\n    category,\n    date,\n    startTime,\n    duration,\n    images,\n    location,\n    maxParticipants,\n    numRegistered\n  } = workshop;\n  const classes = useStyles();\n  const theme = useTheme();\n  const dialogSize = useMediaQuery(theme.breakpoints.down('xs'));\n  const [open, setOpen] = useState(false);\n  const [auth, setAuth] = useState(true); //Every time they click\n\n  const checkAuth = async () => {\n    const res = await authService.checkAuthStudent();\n\n    if (res.status === 401) {\n      setAuth(false);\n    } else if (res.status === 200) {\n      handleClickOpen();\n    }\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = isSuccess => {\n    setOpen(false);\n\n    if (isSuccess) {\n      handleOpenSnackbar();\n    }\n  };\n\n  const handleLoginClose = () => {\n    setAuth(true);\n  }; //snackbar for signing up for workshop\n\n\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n\n  const handleOpenSnackbar = () => {\n    console.log('opening snackbar');\n    setSnackbarOpen(true);\n  };\n\n  const handleCloseSnackbar = () => {\n    console.log('closing snackbar');\n    setSnackbarOpen(false);\n  };\n\n  const current_date = moment().format('YYYY-MM-DD');\n  const settings = {\n    dots: dialogSize ? false : true,\n    dotsClass: `slick-dots ${classes.dots}`,\n    infinite: true,\n    arrows: false,\n    autoplay: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1 // adaptiveHeight: true,\n\n  };\n\n  function calculateEndTime(startTime, duration) {\n    let time = new Date();\n    let timeSplit = startTime.split(':');\n    time.setHours(parseInt(timeSplit[0]));\n    time.setMinutes(parseInt(timeSplit[1]));\n    let newTime = new Date(time.getTime() + duration * 60000); // 60,000 ms\n\n    return newTime.getHours().toString() + ':' + (newTime.getMinutes() < 10 ? '0' : '') + newTime.getMinutes().toString();\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Accordion, {\n    expanded: expanded === 'panel1',\n    onChange: handleChange('panel1'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AccordionSummary, {\n    \"aria-controls\": \"panel1d-content\",\n    id: \"panel1d-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    alignItems: \"center\",\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: images && images[0],\n    alt: name,\n    className: classes.thumbnail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    style: {\n      color: '#033F63'\n    },\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h5\",\n    style: {\n      color: '#033F63'\n    },\n    component: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 15\n    }\n  }, name), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    style: {\n      color: '#033F63'\n    },\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 15\n    }\n  }, \"Category: \", category), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    style: {\n      color: '#033F63'\n    },\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 15\n    }\n  }, \"Organizer: \", organizer), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    style: {\n      color: '#033F63'\n    },\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 15\n    }\n  }, \"Date: \", date && date.substr(0, 10)), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    style: {\n      color: '#033F63'\n    },\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 15\n    }\n  }, \"Time: \", startTime, \" - \", calculateEndTime(startTime, duration)), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    style: {\n      color: '#033F63'\n    },\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  }, \"Duration: \", duration, \" minutes\"), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    style: {\n      color: '#033F63'\n    },\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 15\n    }\n  }, \"Vacancies:\", ' ', maxParticipants - numRegistered > 1000 ? 'Unlimited' : maxParticipants - numRegistered)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(AccordionDetails, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    color: \"textSecondary\",\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 19\n    }\n  }, description), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 21\n    }\n  }), \"Location: \", location)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: checkAuth,\n    className: classes.actionButton,\n    variant: \"contained\",\n    color: \"secondary\",\n    disabled: new Date().getTime() < new Date('30 January 2022').getTime() || new Date().getTime() >= new Date('12 February 2022 00:00:00').getTime(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 19\n    }\n  }, \"Sign Up\")))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'left'\n    },\n    open: snackbarOpen,\n    autoHideDuration: 6000,\n    onClose: handleCloseSnackbar,\n    message: 'You have successfully signed up for the workshop! View your workshops at your profile page.',\n    action: /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      onClick: handleCloseSnackbar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 15\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }\n  }), !auth && /*#__PURE__*/React.createElement(UserLogin, {\n    parentCallback: handleLoginClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 17\n    }\n  }), open && current_date <= {\n    date\n  } && /*#__PURE__*/React.createElement(SignupPopup //callback\n  , {\n    workshop: workshop,\n    parentCallback: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 9\n    }\n  }), open && current_date > {\n    date\n  } && /*#__PURE__*/React.createElement(WorkshopOverPopup //callback\n  , {\n    parentCallback: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/antho/OneDrive/Desktop/naf2022-front/src/ProgrammesPage/WorkshopCard.js"],"names":["React","useState","makeStyles","withStyles","useTheme","Typography","MuiAccordion","MuiAccordionSummary","MuiAccordionDetails","Slider","useMediaQuery","Grid","Button","SignupPopup","WorkshopOverPopup","UserLogin","authService","moment","Snackbar","IconButton","CloseIcon","useStyles","theme","root","maxWidth","margin","spacing","padding","textAlign","thumbnail","width","height","objectFit","Accordion","boxShadow","borderBottom","display","expanded","AccordionSummary","marginBottom","content","AccordionDetails","flexWrap","justifyContent","alignItems","WorkshopCard","props","setExpanded","handleChange","panel","event","isExpanded","workshop","name","organizer","description","category","date","startTime","duration","images","location","maxParticipants","numRegistered","classes","dialogSize","breakpoints","down","open","setOpen","auth","setAuth","checkAuth","res","checkAuthStudent","status","handleClickOpen","handleClose","isSuccess","handleOpenSnackbar","handleLoginClose","snackbarOpen","setSnackbarOpen","console","log","handleCloseSnackbar","current_date","format","settings","dots","dotsClass","infinite","arrows","autoplay","speed","slidesToShow","slidesToScroll","calculateEndTime","time","Date","timeSplit","split","setHours","parseInt","setMinutes","newTime","getTime","getHours","toString","getMinutes","color","substr","actionButton","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { makeStyles, withStyles, useTheme } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport MuiAccordion from '@material-ui/core/Accordion';\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary';\nimport MuiAccordionDetails from '@material-ui/core/AccordionDetails';\nimport Slider from 'react-slick';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport SignupPopup from './SignupPopup';\nimport WorkshopOverPopup from './WorkshopOverPopup';\nimport UserLogin from '../Authentication/UserLogin';\nimport authService from '../services/auth';\nimport moment from 'moment';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    maxWidth: 600,\n    margin: theme.spacing(3),\n    padding: theme.spacing(2),\n    textAlign: 'left',\n  },\n  thumbnail: {\n    width: '100%',\n    height: 200,\n    objectFit: 'cover',\n    margin: 'auto',\n  },\n}));\n\nconst Accordion = withStyles({\n  root: {\n    boxShadow: 1,\n    // border: '1px solid rgba(0, 0, 0, .125)',\n    '&:not(:last-child)': {\n      borderBottom: 0,\n    },\n    '&:before': {\n      display: 'none',\n    },\n    '&$expanded': {\n      margin: 'auto',\n    },\n  },\n  expanded: {},\n})(MuiAccordion);\n\nconst AccordionSummary = withStyles({\n  root: {\n    // backgroundColor: '#fffef2',\n    marginBottom: -10,\n  },\n  content: {\n    '&$expanded': {\n      margin: '12px 0',\n    },\n  },\n  expanded: {},\n})(MuiAccordionSummary);\n\nconst AccordionDetails = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    alignItems: 'center',\n  },\n}))(MuiAccordionDetails);\n\nexport default function WorkshopCard(props) {\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n  const { workshop } = props;\n  const {\n    name,\n    organizer,\n    description,\n    category,\n    date,\n    startTime,\n    duration,\n    images,\n    location,\n    maxParticipants,\n    numRegistered,\n  } = workshop;\n\n  const classes = useStyles();\n\n  const theme = useTheme();\n  const dialogSize = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [open, setOpen] = useState(false);\n  const [auth, setAuth] = useState(true);\n\n  //Every time they click\n\n  const checkAuth = async () => {\n    const res = await authService.checkAuthStudent();\n    if (res.status === 401) {\n      setAuth(false);\n    } else if (res.status === 200) {\n      handleClickOpen();\n    }\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = (isSuccess) => {\n    setOpen(false);\n    if (isSuccess) {\n      handleOpenSnackbar();\n    }\n  };\n\n  const handleLoginClose = () => {\n    setAuth(true);\n  };\n\n  //snackbar for signing up for workshop\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const handleOpenSnackbar = () => {\n    console.log('opening snackbar');\n    setSnackbarOpen(true);\n  };\n\n  const handleCloseSnackbar = () => {\n    console.log('closing snackbar');\n    setSnackbarOpen(false);\n  };\n\n  const current_date = moment().format('YYYY-MM-DD');\n\n  const settings = {\n    dots: dialogSize ? false : true,\n    dotsClass: `slick-dots ${classes.dots}`,\n    infinite: true,\n    arrows: false,\n    autoplay: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    // adaptiveHeight: true,\n  };\n\n  function calculateEndTime(startTime, duration) {\n    let time = new Date();\n    let timeSplit = startTime.split(':');\n    time.setHours(parseInt(timeSplit[0]));\n    time.setMinutes(parseInt(timeSplit[1]));\n\n    let newTime = new Date(time.getTime() + duration * 60000); // 60,000 ms\n\n    return (\n      newTime.getHours().toString() +\n      ':' +\n      (newTime.getMinutes() < 10 ? '0' : '') +\n      newTime.getMinutes().toString()\n    );\n  }\n\n  return (\n    <div className={classes.root}>\n      <Accordion\n        expanded={expanded === 'panel1'}\n        onChange={handleChange('panel1')}\n      >\n        <AccordionSummary aria-controls=\"panel1d-content\" id=\"panel1d-header\">\n          <Grid container spacing={3} alignItems=\"center\" justify=\"center\">\n            {/* <Grid item xs={1}></Grid> */}\n            <Grid item xs={6}>\n              <img\n                src={images && images[0]}\n                alt={name}\n                className={classes.thumbnail}\n              />\n            </Grid>\n            <Grid item xs={6}>\n              <Typography\n                variant=\"body2\"\n                style={{ color: '#033F63' }}\n                component=\"p\"\n              >\n                <br />\n              </Typography>\n              <Typography\n                gutterBottom\n                variant=\"h5\"\n                style={{ color: '#033F63' }}\n                component=\"h2\"\n              >\n                {name}\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                style={{ color: '#033F63' }}\n                component=\"p\"\n              >\n                Category: {category}\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                style={{ color: '#033F63' }}\n                component=\"p\"\n              >\n                Organizer: {organizer}\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                style={{ color: '#033F63' }}\n                component=\"p\"\n              >\n                Date: {date && date.substr(0, 10)}\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                style={{ color: '#033F63' }}\n                component=\"p\"\n              >\n                Time: {startTime} - {calculateEndTime(startTime, duration)}\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                style={{ color: '#033F63' }}\n                component=\"p\"\n              >\n                Duration: {duration} minutes\n              </Typography>\n              <Typography\n                variant=\"body2\"\n                style={{ color: '#033F63' }}\n                component=\"p\"\n              >\n                Vacancies:{' '}\n                {maxParticipants - numRegistered > 1000\n                  ? 'Unlimited'\n                  : maxParticipants - numRegistered}\n              </Typography>\n            </Grid>\n            <Grid item xs={12}></Grid>\n          </Grid>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Grid container spacing={3}>\n            {/* <Grid item xs={6}>\n              <Slider {...settings}>\n                {images.map((image, index) => (\n                  <img\n                    key={index}\n                    className={classes.img}\n                    src={image}\n                    alt={name}\n                  />\n                ))}\n              </Slider>\n            </Grid> */}\n            <Grid item xs={12}>\n              <Grid container spacing={3}>\n                <Grid item xs={12}></Grid>\n                <Grid item xs={12}>\n                  <Typography\n                    variant=\"body1\"\n                    color=\"textSecondary\"\n                    component=\"p\"\n                  >\n                    {description}\n                  </Typography>\n                  <Typography\n                    variant=\"body2\"\n                    color=\"textSecondary\"\n                    component=\"p\"\n                  >\n                    <br />\n                    Location: {location}\n                  </Typography>\n                </Grid>\n                <Grid item xs={12}>\n                  <Button\n                    onClick={checkAuth}\n                    className={classes.actionButton}\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    disabled={\n                      new Date().getTime() <\n                        new Date('30 January 2022').getTime() ||\n                      new Date().getTime() >=\n                        new Date('12 February 2022 00:00:00').getTime()\n                    }\n                  >\n                    Sign Up\n                  </Button>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12}></Grid>\n          </Grid>\n        </AccordionDetails>\n      </Accordion>\n      <Snackbar\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        open={snackbarOpen}\n        autoHideDuration={6000}\n        onClose={handleCloseSnackbar}\n        message={\n          'You have successfully signed up for the workshop! View your workshops at your profile page.'\n        }\n        action={\n          <React.Fragment>\n            <IconButton\n              size=\"small\"\n              aria-label=\"close\"\n              color=\"inherit\"\n              onClick={handleCloseSnackbar}\n            >\n              <CloseIcon fontSize=\"small\" />\n            </IconButton>\n          </React.Fragment>\n        }\n      />\n      {!auth && <UserLogin parentCallback={handleLoginClose} />}\n      {open && current_date <= { date } && (\n        <SignupPopup\n          //callback\n          workshop={workshop}\n          parentCallback={handleClose}\n        />\n      )}\n      {open && current_date > { date } && (\n        <WorkshopOverPopup\n          //callback\n          parentCallback={handleClose}\n        />\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}